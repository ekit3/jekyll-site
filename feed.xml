<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2022-10-26T02:11:36-05:00</updated><id>/feed.xml</id><title type="html">Blog | Tech</title><subtitle>Welcome To the Ekite's Tech Blogs.</subtitle><entry><title type="html">Web Assembly</title><link href="/articles/front-end/web-assembly/" rel="alternate" type="text/html" title="Web Assembly" /><published>2022-10-06T02:00:00-05:00</published><updated>2022-10-06T02:00:00-05:00</updated><id>/articles/front-end/web-assembly</id><content type="html" xml:base="/articles/front-end/web-assembly/">&lt;h5 id=&quot;boostez-vos-applis-web-avec-web-assembly--&quot;&gt;Boostez vos applis web avec Web Assembly ! &lt;br /&gt;&lt;/h5&gt;

&lt;p&gt;Web Assembly (ou WASM) est un standard du World Wide Web consistant en un &lt;a href=&quot;#bytecode&quot;&gt;bytecode&lt;/a&gt; exÃ©cutÃ© cÃ´tÃ© navigateur dans un environnement dÃ©diÃ© (sandbox) en complÃ©ment du Javascript (JS).&lt;/p&gt;

&lt;p&gt;Ce code bas niveau Ã©tant interprÃ©tÃ© cÃ´tÃ© navigateur peut Ãªtre Ã©crit dans diffÃ©rents langages comme le C, C++, RUST, x86 etc.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Lâ€™interprÃ©tation du Web Assembly se fait plus bas-niveau que celle du Javascript. Web Assembly utilise de maniÃ¨re plus efficace et directe les ressources disponibles sur la machine sur laquelle il sâ€™exÃ©cute (CPU/MÃ©moire), et permet donc dâ€™atteindre un haut niveau de performances.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ces performances accrues permettent alors de dÃ©velopper des applications qui nâ€™Ã©taient pas envisageables en Javascript. Par exemple du traitement vidÃ©o en temps rÃ©el, comme le floutage dâ€™arriÃ¨re plan en visio-confÃ©rence, ou encore des jeux vidÃ©o.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Pour rÃ©sumer, WASM a Ã©tÃ© crÃ©Ã© pour tirer parti de la puissance des langages de bas niveau, couplÃ© Ã  la flexibilitÃ© de Javascript afin de crÃ©er des applications Web plus performantes.&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;h2 id=&quot;un-peu-de-contexte&quot;&gt;Un peu de contexte&lt;/h2&gt;

&lt;p&gt;WASM fut officiellement lancÃ© en 2015 pour la premiÃ¨re fois sous forme dâ€™une dÃ©monstration faite sous Unity (moteur de jeu multi plateforme) afin de dÃ©montrer les performances et les possibilitÃ©s de lâ€™outil.&lt;/p&gt;

&lt;p&gt;Mozilla a sorti asm.js, le 21 mars 2013, un sous-ensemble du langage JS pour amÃ©liorer les performances grÃ¢ce Ã  une couche de traitement binaire. 
Google et Lars Bak ont mis en place un moteur JS V8, le 2 septembre 2008, qui peut compiler nativement vers de lâ€™assembleur.
Ces deux derniers Ã©vÃ©nements sont surtout des amÃ©liorations liÃ©es Ã  la gestion du langage.&lt;/p&gt;

&lt;h2 id=&quot;objectifs&quot;&gt;Objectifs&lt;/h2&gt;

&lt;p&gt;Les objectifs du WASM sont:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;la rapiditÃ©&lt;/b&gt; : avoir des performances proches des applications natives (C/C++/Rust) tout en fonctionnant sur un navigateur Web..&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;la portabilitÃ©&lt;/b&gt; : WebAssembly est conÃ§u de maniÃ¨re Ã  sâ€™associer aux autres technologies web mais aussi de garantir une rÃ©tro compatibilitÃ© ascendante entre les diffÃ©rentes versions.&lt;br /&gt;
Il existe aussi des polyfills pour les navigateurs plus anciens.&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;la sÃ©curitÃ©&lt;/b&gt; : lâ€™environnement dÃ©diÃ© permet de garantir une isolation totale du code et de la machine de lâ€™utilisateur.
Par exemple, la partie entrÃ©e / sortie (rÃ©seau et fichier) est totalement inaccessible (en dehors du module qui lâ€™embarque).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;la-compilation&quot;&gt;La compilation&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/web-assembly//image-1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Fig: Le processus de compilation Web Assembly &lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Afin dâ€™exÃ©cuter du Web Assembly dans une page web, il faut compiler du code Ã©crit dans un langage source (Ã©crit en C, C++, Rust ou autre) vers un code intermÃ©diaire (le bytecode WASM). Le bytecode est situÃ© entre le code dâ€™un langage source et le code machine (binaire).
Cela est rendu possible grÃ¢ce Ã  une infrastructure de compilation &lt;a href=&quot;#llvm&quot;&gt;LLVM&lt;/a&gt;, qui implÃ©mente la traduction dâ€™un AST (&lt;a href=&quot;#syntaxeTree&quot;&gt;arbre de syntaxe abstraite&lt;/a&gt;) en bytecode WASM. &lt;br /&gt;
Le fichier ainsi compilÃ© aura pour extension â€˜.wasmâ€™.&lt;/p&gt;

&lt;p&gt;Lâ€™utilisation dâ€™une LLVM permet dâ€™isoler et dâ€™uniformiser la compilation de tous les langages sources supportÃ©s vers ce format. Pour ajouter le support dâ€™un langage, il suffit dâ€™implÃ©menter un programme capable de lire un AST pour le transmettre Ã  la LLVM (transpilateur).&lt;br /&gt;
Il est donc possible de crÃ©er des compilateurs pour nâ€™importe quel langage. (une liste des langages principaux dÃ©jÃ  supportÃ©s par WASM se trouve sur le Discord de sa communautÃ©.)&lt;/p&gt;

&lt;p&gt;Fonctionnement gÃ©nÃ©ral du Web Assembly&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/web-assembly//image-2.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le code initialement Ã©crit dans un langage haut-niveau est donc compilÃ© dans en un module web-assembly. La compilation produit un fichier binaire â€˜.wasmâ€™ contenant le bytecode devant Ãªtre exÃ©cutÃ© dans le navigateur web de lâ€™utilisateur. Les fichiers â€˜.wasmâ€™ peuvent alors Ãªtre distribuÃ©s aux utilisateurs comme le reste des ressources statiques dâ€™une application web.&lt;/p&gt;

&lt;p&gt;Lorsquâ€™un utilisateur consulte lâ€™application web, les ressources statiques (HTML, CSS, Images) sont tÃ©lÃ©chargÃ©es par son navigateur, ainsi que le code Javascript et les binaires â€˜.wasmâ€™. Le navigateur se charge de dÃ©coder, compiler et exÃ©cuter le code WASM, en parallÃ¨le du code Javascript habituel.&lt;/p&gt;

&lt;h2 id=&quot;les-concepts&quot;&gt;Les concepts&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;IntÃ©gration sur le web
WebAssembly est conÃ§u de maniÃ¨re Ã  facilement sâ€™associer aux autres technologies web et de garantir une rÃ©trocompatibilitÃ©.&lt;/li&gt;
  &lt;li&gt;Le fichier compilÃ© est tÃ©lÃ©chargÃ©, lâ€™exÃ©cution est faite nativement sur le poste de lâ€™utilisateur et la mÃ©moire est gÃ©rÃ©e de maniÃ¨re linÃ©aire.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Bien que lâ€™exÃ©cution ait lieu sur le poste de lâ€™utilisateur, WASM ne permet pas lâ€™accÃ¨s Ã  certains composants du &lt;a href=&quot;#kernel&quot;&gt;kernel&lt;/a&gt; : Il existe une limite sur la gestion des entrÃ©es/sorties. (pour des raisons de sÃ©curitÃ©)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;MÃ©moire linÃ©aire
La mÃ©moire linÃ©aire est une seule plage dâ€™adresse mÃ©moire sur laquelle on peut agir au fil de lâ€™eau. Vu lâ€™abstraction du sujet, il est mieux de pouvoir se reprÃ©senter tout Ã§a. Voici un parallÃ¨le entre la maniÃ¨re dont est gÃ©rÃ©e la mÃ©moire en Java (de Jakob Jenkov) et un schÃ©ma de la mÃ©moire linÃ©aire (de Meghalee Goswami) :&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/web-assembly//image-3.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Avant dâ€™aller Ã  la suite un petit apartÃ© : WASM a mis en place un traducteur du fichier compilÃ© nommÃ© &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/WebAssembly/Understanding_the_text_format&quot;&gt;Web Assembly Text (WAT)&lt;/a&gt;. Le fichier compilÃ© est donc lisible&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Module 
ReprÃ©sente un binaire WASM qui a Ã©tÃ© compilÃ© en code exÃ©cutable par le navigateur.&lt;/li&gt;
  &lt;li&gt;Table 
ReprÃ©sente un tableau typÃ© de rÃ©fÃ©rence ne pouvant Ãªtre stockÃ© de maniÃ¨re brute en mÃ©moire (pour des raisons de sÃ©curitÃ© et de portabilitÃ©).&lt;/li&gt;
  &lt;li&gt;Instance
ReprÃ©sente un module associÃ© ainsi que ses Ã©tats (la mÃ©moire, la table ainsi quâ€™un ensemble de donnÃ©es importÃ©es).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;les-cas-dusage-de-wasm&quot;&gt;Les cas dâ€™usage de WASM&lt;/h2&gt;

&lt;p&gt;Comme expliquÃ© en introduction, WASM permet un haut niveau de performances impossible en Javascript. Ces performances ouvrent la possibilitÃ© dâ€™implÃ©menter de nouveaux cas dâ€™usage. Certains de ces cas dâ€™usage sont concrets et dÃ©jÃ  mis en place dans certaines applications et jeux. Dâ€™autres cas dâ€™usage sont plutÃ´t de lâ€™ordre du POC (Proof Of Concept) ou de la dÃ©mo : &lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Server-side rendering&lt;/li&gt;
  &lt;li&gt;OCI (Open Container Initiative)&lt;/li&gt;
  &lt;li&gt;3D Web View Rendering&lt;/li&gt;
  &lt;li&gt;Ã‰tendre des fonctions JS&lt;/li&gt;
  &lt;li&gt;Extensions navigateurs (ublock origin)&lt;/li&gt;
  &lt;li&gt;Utilisation de la 3D&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Voici des exemples dâ€™applications connues faites Ã  lâ€™aide de WASM : &lt;br /&gt;
&lt;a href=&quot;https://www.figma.com/fr/blog/webassembly-cut-figmas-load-time-by-3x/&quot;&gt;Figma&lt;/a&gt;, &lt;a href=&quot;https://madewithwebassembly.com/showcase/google-earth&quot;&gt;Google Earth&lt;/a&gt;, &lt;a href=&quot;https://madewithwebassembly.com/showcase/unity&quot;&gt;Unity&lt;/a&gt;, &lt;a href=&quot;https://madewithwebassembly.com/showcase/tensorflow&quot;&gt;Unity&lt;/a&gt;, etc.&lt;/p&gt;

&lt;h3 id=&quot;pros&quot;&gt;Pros&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Performance&lt;/li&gt;
  &lt;li&gt;Cross platform&lt;/li&gt;
  &lt;li&gt;SÃ©curisation&lt;/li&gt;
  &lt;li&gt;multiples langages Rust / C++ / C etc.&lt;/li&gt;
  &lt;li&gt;PortabilitÃ©&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;cons&quot;&gt;Cons&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;CommunautÃ© faible&lt;/li&gt;
  &lt;li&gt;Beaucoups de concepts complexe Ã  apprÃ©hender avant de pouvoir faire la moindre chose&lt;/li&gt;
  &lt;li&gt;Nâ€™a pas encore percÃ© malgrÃ© son â€œÃ¢geâ€&lt;/li&gt;
  &lt;li&gt;Installation plus ou moins aisÃ©e en fonction de la plateforme de dÃ©veloppement&lt;/li&gt;
  &lt;li&gt;Pas â€œuser friendlyâ€&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Le principal but de WASM est dâ€™apporter un enrichissement de la stack technique de Javascript avec un haut niveau de performances.
La plus grande difficultÃ© de WASM reste dâ€™assimiler ses diffÃ©rents principes et concepts gÃ©nÃ©raux&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;devoir utiliser un langage de bas niveau&lt;/li&gt;
  &lt;li&gt;utiliser un compilateur&lt;/li&gt;
  &lt;li&gt;avoir affaire Ã  une communautÃ© de niche&lt;/li&gt;
  &lt;li&gt;assez complexe Ã  apprÃ©hender
MalgrÃ© une adoption encore faible, il nâ€™en reste pas moins fiable que ce soit en termes de sÃ©curitÃ©, de performance, de lisibilitÃ© et dans certains domaines la seule solution possible afin de garantir un haut niveau de performance sur une application Web.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lexique&quot;&gt;Lexique&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;&lt;a name=&quot;bytecode&quot;&gt;bytecode:&lt;/a&gt;&lt;/b&gt; En informatique, le bytecode (terme anglais signifiant Â« code en bytes Â») est un code intermÃ©diaire entre les instructions machines et le code source, qui nâ€™est pas directement exÃ©cutable. Le bytecode (Ã©galement appelÃ© code portable ou p-code) peut Ãªtre crÃ©Ã© Ã  la volÃ©e et rÃ©sider en mÃ©moire (compilation Ã  la volÃ©e, JIT en anglais) ou bien rÃ©sider dans un fichier, gÃ©nÃ©ralement binaire qui reprÃ©sente le programme, tout comme un fichier de code objet produit par un compilateur.
&lt;a href=&quot;https://fr.wikipedia.org/wiki/Bytecode&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;&lt;a name=&quot;syntaxeTree&quot;&gt;Arbre de syntaxe abstraite:&lt;/a&gt;&lt;/b&gt; Un arbre de syntaxe abstraite (AST) est une maniÃ¨re de reprÃ©senter la syntaxe dâ€™un langage de programmation sous la forme dâ€™une structure arborescente hiÃ©rarchique. Cette structure est utilisÃ©e pour gÃ©nÃ©rer des tables de symboles pour les compilateurs et la gÃ©nÃ©ration de code ultÃ©rieure. Lâ€™arbre reprÃ©sente toutes les constructions du langage et leurs rÃ¨gles ultÃ©rieures.
&lt;a href=&quot;https://definir-tech.com/arbre-de-syntaxe-abstraite-ast/&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;&lt;a name=&quot;llvm&quot;&gt;LLVM:&lt;/a&gt;&lt;/b&gt; LLVM (anciennement appelÃ© Low Level Virtual Machine en franÃ§ais : Â« machine virtuelle de bas niveau Â») est une infrastructure de compilateur conÃ§ue pour lâ€™optimisation du code Ã  la compilation, Ã  lâ€™Ã©dition de liens, voire Ã  lâ€™exÃ©cution ou durant les Â« temps morts Â» dâ€™un programme, quel que soit le langage dâ€™origine.
LLVM permet de crÃ©er une machine virtuelle pour des langages similaires Ã  Java et sa JVM, un gÃ©nÃ©rateur de code pour une architecture matÃ©rielle spÃ©cifique, et des optimiseurs de compilation indÃ©pendants de toute plate-forme et de tout langage.
&lt;a href=&quot;https://fr.wikipedia.org/wiki/LLVM&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;&lt;a name=&quot;kernel&quot;&gt;Kernel:&lt;/a&gt;&lt;/b&gt; terme anglais signifiant Â« noyau Â». Il constitue le cÅ“ur du systÃ¨me qui exploite un ordinateur. Il Ã©tablit la communication entre la partie matÃ©rielle et la partie logicielle de lâ€™appareil.
&lt;a href=&quot;https://www.jedha.co/blog/kernel-definition-utilite&quot;&gt;Source&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;sources&quot;&gt;Sources&lt;/h2&gt;

&lt;p&gt;The state of WebAssembly (2022)&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://tech.mozfr.org/post/2017/03/08/D-ou-vient-la-rapidite-de-WebAssembly&quot;&gt;https://tech.mozfr.org/post/2017/03/08/D-ou-vient-la-rapidite-de-WebAssembly&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/fr/docs/&quot;&gt;https://developer.mozilla.org/fr/docs/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://emscripten.org/&quot;&gt;https://emscripten.org/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/fr/docs/&quot;&gt;https://developer.mozilla.org/fr/docs/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jenkov.com/tutorials/java-concurrency/java-memory-model.html&quot;&gt;https://jenkov.com/tutorials/java-concurrency/java-memory-model.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=hSeB9I_mK6A&amp;amp;t=4s&quot;&gt;Angry Bots DÃ©mo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://discord.gg/3B8QFXkYTc&quot;&gt;lien discord Wasm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://madewithwebassembly.com/&quot;&gt;Applications faite en WASM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://radu-matei.com/blog/wasm-to-oci/&quot;&gt;OCI (Open Container Initiative)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://study.com/academy/lesson/what-is-the-linear-memory-model-definition-constraints.html&quot;&gt;schÃ©ma mÃ©moire linÃ©aire de Meghalee Goswami&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;laurent_duchaussoy&quot;, &quot;florian_barbet&quot;, &quot;jean_dusenne&quot;]</name></author><category term="Front-End" /><summary type="html">Boostez vos applis web avec Web Assembly ! Web Assembly (ou WASM) est un standard du World Wide Web consistant en un bytecode exÃ©cutÃ© cÃ´tÃ© navigateur dans un environnement dÃ©diÃ© (sandbox) en complÃ©ment du Javascript (JS). Ce code bas niveau Ã©tant interprÃ©tÃ© cÃ´tÃ© navigateur peut Ãªtre Ã©crit dans diffÃ©rents langages comme le C, C++, RUST, x86 etc. Lâ€™interprÃ©tation du Web Assembly se fait plus bas-niveau que celle du Javascript. Web Assembly utilise de maniÃ¨re plus efficace et directe les ressources disponibles sur la machine sur laquelle il sâ€™exÃ©cute (CPU/MÃ©moire), et permet donc dâ€™atteindre un haut niveau de performances. Ces performances accrues permettent alors de dÃ©velopper des applications qui nâ€™Ã©taient pas envisageables en Javascript. Par exemple du traitement vidÃ©o en temps rÃ©el, comme le floutage dâ€™arriÃ¨re plan en visio-confÃ©rence, ou encore des jeux vidÃ©o. Pour rÃ©sumer, WASM a Ã©tÃ© crÃ©Ã© pour tirer parti de la puissance des langages de bas niveau, couplÃ© Ã  la flexibilitÃ© de Javascript afin de crÃ©er des applications Web plus performantes.</summary></entry><entry><title type="html">ExÃ©cuter une application localement sur minikube avec skaffold</title><link href="/articles/devops/skaffold-et-minikube/" rel="alternate" type="text/html" title="ExÃ©cuter une application localement sur minikube avec skaffold" /><published>2022-07-29T00:00:00-05:00</published><updated>2022-07-29T00:00:00-05:00</updated><id>/articles/devops/skaffold-et-minikube</id><content type="html" xml:base="/articles/devops/skaffold-et-minikube/">&lt;p&gt;Lors du dÃ©veloppement dâ€™une application pour Kubernetes, le dÃ©veloppeur est souvent liÃ© Ã  une boucle de feedback assez longue:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;DÃ©veloppement&lt;/li&gt;
  &lt;li&gt;Contruction de lâ€™image Docker (quelques secondes/minutes)&lt;/li&gt;
  &lt;li&gt;Push de lâ€™image sur un registry&lt;/li&gt;
  &lt;li&gt;DÃ©ploiement sur Kubernetes (quelques minutes)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Cette boucle est gÃ©nÃ©ralement implÃ©mentÃ©e par des pipelines de CI/CD. Ces pipelines augmentent encore le temps entre le dÃ©veloppement et une application dÃ©marrÃ©e sur Kubernetes. Ce temps est relativement long lorsquâ€™on compare un cycle de dÃ©veloppement local auquel un dÃ©veloppeur peut Ãªtre habituÃ©.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://skaffold.dev&quot; target=&quot;_blank&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt;&lt;/a&gt;, dÃ©veloppÃ© par Google, est un outil open-source en license Apache, qui permet dâ€™implÃ©menter cette boucle de dÃ©veloppement sur un environnement Kubernetes local ou distant. La promesse de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; est de rendre le dÃ©veloppement sur Kubernetes simple, rapide et reproductible.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/devops/skaffold-et-minikube//skaffold.png&quot; alt=&quot;la page d'accueil de skaffold&quot; /&gt;&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; implÃ©mente un &lt;em&gt;pipeline&lt;/em&gt; qui se dÃ©roule en plusieurs Ã©tapes:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;em&gt;build&lt;/em&gt; : construction des images docker avec:
    &lt;ul&gt;
      &lt;li&gt;Docker (sur base dâ€™un &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;)&lt;/li&gt;
      &lt;li&gt;Buildpacks&lt;/li&gt;
      &lt;li&gt;Jib&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;tag&lt;/em&gt; de lâ€™image docker en utilisant diffÃ©rentes stratÃ©gies :
    &lt;ul&gt;
      &lt;li&gt;lâ€™identifiant du commit git (par dÃ©faut)&lt;/li&gt;
      &lt;li&gt;une date&lt;/li&gt;
      &lt;li&gt;des variables dâ€™environnement&lt;/li&gt;
      &lt;li&gt;un hash des fichiers source
      * push de lâ€™image sur un registry
      * chargement direct de lâ€™image dans un cluster Kubernetes&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;deploy&lt;/em&gt; : dÃ©ploiement de lâ€™application sur Kubernetes (local ou distant) en utilisant:
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; et des fichiers yaml&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;kustomize&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;helm&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;tail logs &amp;amp; port forward&lt;/em&gt; : affiche les logs de lâ€™application et redirige un port local&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;status check&lt;/em&gt; : attend la fin du bon dÃ©ploiement de application&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; a besoin dâ€™un code Ã  dÃ©ployer, ainsi quâ€™un accÃ¨s Ã  un cluster Kubernetes. Lâ€™accÃ¨s au cluster se configure de la mÃªme maniÃ¨re que pour &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt;, Ã  travers un fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.kube/config&lt;/code&gt;. Pour la suite de cet article, jâ€™utilise un cluster &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; que jâ€™installe sur mon poste pour lâ€™occasion.&lt;/p&gt;

&lt;h2 id=&quot;dÃ©ployer-un-cluster-minikube-localement&quot;&gt;DÃ©ployer un cluster minikube localement&lt;/h2&gt;
&lt;p&gt;La premiÃ¨re Ã©tape consiste Ã  dÃ©ployer un cluster &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; sur mon poste de dÃ©veloppement.
Pour ce faire, le plus pratique est de suivre les Ã©tapes dâ€™installation de lâ€™outil dÃ©taillÃ©es &lt;a href=&quot;https://minikube.sigs.k8s.io/docs/start/&quot; target=&quot;_blank&quot;&gt;dans leur documentation dâ€™installation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/devops/skaffold-et-minikube//minikube-install.png&quot; alt=&quot;installation de minikube&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Voici les commandes que jâ€™ai exÃ©cutÃ© pour installer &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; sur mon poste Linux :&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-LO&lt;/span&gt; https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
&lt;span class=&quot;nb&quot;&gt;sudo install &lt;/span&gt;minikube-linux-amd64 /usr/local/bin/minikube
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;docker&lt;/code&gt; Ã©tant dÃ©jÃ  installÃ© sur mon poste, je peux tout de suite dÃ©marrer un cluster Kubernetes local avec la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube start&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;minikube start
ğŸ˜„  minikube v1.24.0 on Debian bookworm/sid
ğŸ‰  minikube 1.26.0 is available! Download it: https://github.com/kubernetes/minikube/releases/tag/v1.26.0
ğŸ’¡  To disable this notice, run: &lt;span class=&quot;s1&quot;&gt;'minikube config set WantUpdateNotification false'&lt;/span&gt;

âœ¨  Using the docker driver based on existing profile
ğŸ‘  Starting control plane node minikube &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;cluster minikube
ğŸšœ  Pulling base image ...
ğŸ”„  Restarting existing docker container &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minikube&quot;&lt;/span&gt; ...

ğŸ§¯  Docker is nearly out of disk space, which may cause deployments to fail! &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;92% of capacity&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
ğŸ’¡  Suggestion: 

    Try one or more of the following to free up space on the device:
    
    1. Run &lt;span class=&quot;s2&quot;&gt;&quot;docker system prune&quot;&lt;/span&gt; to remove unused Docker data &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;optionally with &lt;span class=&quot;s2&quot;&gt;&quot;-a&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    2. Increase the storage allocated to Docker &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Desktop by clicking on:
    Docker icon &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Preferences &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Resources &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; Disk Image Size
    3. Run &lt;span class=&quot;s2&quot;&gt;&quot;minikube ssh -- docker system prune&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;using the Docker container runtime
ğŸ¿  Related issue: https://github.com/kubernetes/minikube/issues/9024

ğŸ³  Preparing Kubernetes v1.22.3 on Docker 20.10.8 ...
ğŸ”  Verifying Kubernetes components...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
    â–ª Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
    â–ª Using image k8s.gcr.io/ingress-nginx/controller:v1.0.4
    â–ª Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
ğŸ”  Verifying ingress addon...
ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass, ingress
ğŸ„  Done! kubectl is now configured to use &lt;span class=&quot;s2&quot;&gt;&quot;minikube&quot;&lt;/span&gt; cluster and &lt;span class=&quot;s2&quot;&gt;&quot;default&quot;&lt;/span&gt; namespace by default
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Par dÃ©faut, &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; va gÃ©nÃ©rer un fichier de configuration pour &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; dans &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.kube/config&lt;/code&gt;. La commande &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; sera donc immÃ©diatement utilisable:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;kubectl get nodes
NAME       STATUS   ROLES                  AGE    VERSION
minikube   Ready    control-plane,master   1d     v1.22.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Si la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; nâ€™est pas installÃ©e, &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; lâ€™intÃ¨gre et elle est utilisable de cette maniÃ¨re:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;minikube kubectl get nodes
NAME       STATUS   ROLES                  AGE    VERSION
minikube   Ready    control-plane,master   1d     v1.22.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pour ma part, jâ€™ai installÃ© &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; avec lâ€™outil de packaging de mon systÃ¨me en suivant &lt;a href=&quot;https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-using-native-package-management&quot; target=&quot;_blank&quot;&gt;cette procÃ©dure&lt;/a&gt;.
Une fois que &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; sont installÃ©s, dÃ©marrÃ©s et configurÃ©s, je peux passer Ã  lâ€™installation de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;installation-de-skaffold&quot;&gt;Installation de skaffold&lt;/h2&gt;
&lt;p&gt;Lâ€™installation de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; est similaire Ã  celle de &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; et &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt;.
Jâ€™ai suivi la procÃ©dure sur &lt;a href=&quot;https://skaffold.dev/docs/install/&quot; target=&quot;_blank&quot;&gt;dans leur documentation&lt;/a&gt; et installÃ© la version Linux avec ces commandes:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-Lo&lt;/span&gt; skaffold https://storage.googleapis.com/skaffold/releases/latest/skaffold-linux-amd64 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo install &lt;/span&gt;skaffold /usr/local/bin/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; est maintenant disponible sur mon poste:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;skaffold version
v1.39.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;configuration-dun-projet&quot;&gt;Configuration dâ€™un projet&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; se configure avec un fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold.yml&lt;/code&gt; Ã  positionner Ã  la racine de votre projet.
Jâ€™ai pris pour exemple un projet Micronaut avec lequel je suis en train dâ€™expÃ©rimenter:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
â”œâ”€â”€ micronaut-cli.yml
â”œâ”€â”€ mvnw
â”œâ”€â”€ mvnw.bat
â”œâ”€â”€ pom.xml
â”œâ”€â”€ README.md
â””â”€â”€ src
    â””â”€â”€ main
        â”œâ”€â”€ java
        â”‚Â Â  â””â”€â”€ com
        â”‚Â Â      â””â”€â”€ example
        â”‚Â Â          â”œâ”€â”€ Application.java
        â”‚Â Â          â””â”€â”€ pokemons
        â”‚Â Â              â”œâ”€â”€ PokemonController.java
        â”‚Â Â              â”œâ”€â”€ Pokemon.java
        â”‚Â Â              â”œâ”€â”€ PokemonRepository.java
        â”‚Â Â              â””â”€â”€ PokemonService.java
        â””â”€â”€ resources
            â”œâ”€â”€ application.yml
            â”œâ”€â”€ bootstrap.yml
            â””â”€â”€ logback.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;La configuration initiale du projet se fait en utilisant la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold init&lt;/code&gt; . Cette commande propose diffÃ©rentes options (&lt;a href=&quot;https://skaffold.dev/docs/pipeline-stages/init/&quot; target=&quot;_blank&quot;&gt;documentation&lt;/a&gt;) en interactif pour crÃ©er son fichier de configuration. Cette Ã©tape est plus simple quâ€™Ã©crire le fichier Ã  la main.
Comme je nâ€™ai pas encore Ã©crit de fichiers manifest Kubernetes pour mon application, &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; a une option pour les gÃ©nÃ©rer: &lt;code class=&quot;highlighter-rouge&quot;&gt;--generate-manifests&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;La premiÃ¨re Ã©tape consiste Ã  configurer la phase de &lt;em&gt;build&lt;/em&gt; de lâ€™application, Ã  savoir la construction de lâ€™image docker. Plusieurs options seront proposÃ©es, en fonction de ce qui est dÃ©jÃ  disponible dans le code : &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;, configuration de &lt;code class=&quot;highlighter-rouge&quot;&gt;jib&lt;/code&gt;, ou manifests Kubernetes.
Mon projet Micronaut a dÃ©jÃ  une configuration pour &lt;code class=&quot;highlighter-rouge&quot;&gt;jib&lt;/code&gt; dans son &lt;code class=&quot;highlighter-rouge&quot;&gt;pom.xml&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.google.cloud.tools&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jib-maven-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.2.1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold init&lt;/code&gt; me propose alors de paramÃ©trer ma phase de &lt;em&gt;build&lt;/em&gt; avec Buildpacks ou Jib:&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;skaffold init &lt;span class=&quot;nt&quot;&gt;--generate-manifests&lt;/span&gt;
? Which builders would you like to create Kubernetes resources &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;?  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Use arrows to move, space to &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;, &amp;lt;right&amp;gt; to all, &amp;lt;left&amp;gt; to none, &lt;span class=&quot;nb&quot;&gt;type &lt;/span&gt;to filter]
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  Buildpacks &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;pom.xml&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  Jib Maven Plugin &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;com.example:demo-app-pokemon-micronaut, pom.xml&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Je choisis lâ€™option &lt;em&gt;Jib&lt;/em&gt; Ã©tant donnÃ© que ce plugin est dÃ©jÃ  configurÃ© pour mon application.&lt;/p&gt;

&lt;p&gt;Lâ€™Ã©tape suivante propose de configurer un port Ã  forwarder pour mon image Docker, je saisis le port 8080 qui est le port par dÃ©faut de mon application:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;? Select port to forward &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;pom-xml-image &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;leave blank &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;none&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: 8080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; me propose ensuite un manifest Kubernetes et me demande si je souhaite gÃ©nÃ©rer les fichiers:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;? Do you want to write this configuration, along with the generated k8s manifests, to skaffold.yaml? Yes
Generated manifest deployment.yaml was written
Configuration skaffold.yaml was written
You can now run &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;skaffold build] to build the artifacts
or &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;skaffold run] to build and deploy
or &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;skaffold dev] to enter development mode, with auto-redeploy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Ã€ noter que si des fichiers de dÃ©ploiement Kubernetes sont dÃ©jÃ  prÃ©sents dans lâ€™application, &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; les dÃ©tecte et les ajoute Ã  sa configuration automatiquement.
Le fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;deployment.yaml&lt;/code&gt; gÃ©nÃ©rÃ© pour Kubernetes est simple:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;v1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Service&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;protocol&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;TCP&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;clusterIP&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;None&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;apps/v1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Deployment&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;matchLabels&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ainsi que le fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold.yaml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;skaffold/v2beta29&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Config&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;demo-app-pokemon-micronaut&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;artifacts&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;jib&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;com.example:demo-app-pokemon-micronaut&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;kubectl&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;manifests&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;deployment.yaml&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;portForward&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;resourceType&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;service&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;resourceName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pom-xml-image&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Le fichier gÃ©nÃ©rÃ© contient de la configuration pour 3 Ã©tapes du pipeline de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;La phase de &lt;em&gt;build&lt;/em&gt; est bien configurÃ©e pour construire une image Docker en utilisant &lt;em&gt;Jib&lt;/em&gt;, lâ€™image produite sera nommÃ©e &lt;code class=&quot;highlighter-rouge&quot;&gt;pom-xml-image&lt;/code&gt;. Ce nom par dÃ©faut pourra Ãªtre changÃ© en modifiant ce fichier de configuration.&lt;/p&gt;

&lt;p&gt;La phase de &lt;em&gt;deploy&lt;/em&gt; est configurÃ©e pour dÃ©ployer des manifests Kubernetes, ici le fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;deployment.yaml&lt;/code&gt; qui a Ã©tÃ© gÃ©nÃ©rÃ© par la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold init&lt;/code&gt;. Ces fichiers manifest rÃ©fÃ©rencent lâ€™image &lt;code class=&quot;highlighter-rouge&quot;&gt;pom-xml-image&lt;/code&gt; dans la partie &lt;em&gt;Deployment&lt;/em&gt; du manifest.
On voit donc ici comment on peut adapter cette configuration pour inclure dâ€™autres fichiers, comme une &lt;em&gt;ConfigMap&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Jâ€™ai pris le parti de dÃ©placer les fichiers de manifest Kubernetes gÃ©nÃ©rÃ©s dans le rÃ©pertoire &lt;code class=&quot;highlighter-rouge&quot;&gt;src/main/Kubernetes&lt;/code&gt; de mon application et de renommer lâ€™image gÃ©nÃ©rÃ©e.
Voici la structure de mon application aprÃ¨s ces opÃ©rations:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
â”œâ”€â”€ micronaut-cli.yml
â”œâ”€â”€ mvnw
â”œâ”€â”€ mvnw.bat
â”œâ”€â”€ pom.xml
â”œâ”€â”€ README.md
â”œâ”€â”€ skaffold.yaml
â””â”€â”€ src
    â””â”€â”€ main
        â”œâ”€â”€ java
        â”‚Â Â  â””â”€â”€ com
        â”‚Â Â      â””â”€â”€ example
        â”‚Â Â          â”œâ”€â”€ Application.java
        â”‚Â Â          â””â”€â”€ pokemons
        â”‚Â Â              â”œâ”€â”€ PokemonController.java
        â”‚Â Â              â”œâ”€â”€ Pokemon.java
        â”‚Â Â              â”œâ”€â”€ PokemonRepository.java
        â”‚Â Â              â””â”€â”€ PokemonService.java
        â”œâ”€â”€ kubernetes
        â”‚Â Â  â”œâ”€â”€ configMap.yaml
        â”‚Â Â  â”œâ”€â”€ deployment.yaml
        â”‚Â Â  â””â”€â”€ service.yaml
        â””â”€â”€ resources
            â”œâ”€â”€ application.yml
            â”œâ”€â”€ bootstrap.yml
            â””â”€â”€ logback.xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Ainsi que le fichier &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold.yaml&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;skaffold/v2beta29&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Config&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;demo-skaffold&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;artifacts&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;demo-skaffold&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;jib&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;kubectl&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;manifests&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;src/main/kubernetes/*.yaml&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;portForward&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;resourceType&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;service&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;resourceName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;demo-skaffold&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;dÃ©marrage-de-mon-projet&quot;&gt;DÃ©marrage de mon projet&lt;/h2&gt;
&lt;p&gt;Une fois les fichiers gÃ©nÃ©rÃ©s, la commande &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold dev&lt;/code&gt; va:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;construire lâ€™image docker en utilisant le builder &lt;em&gt;Jib&lt;/em&gt; configurÃ©&lt;/li&gt;
  &lt;li&gt;dÃ©poser cette image directement dans lâ€™environnement du &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;dÃ©ployer les fichiers de configuration Kubernetes&lt;/li&gt;
  &lt;li&gt;ouvrir un port-forward sur mon port dâ€™Ã©coute 8080&lt;/li&gt;
  &lt;li&gt;afficher les logs de mon application dans mon shell&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;skaffold dev   
Listing files to watch...
 - demo-skaffold
Generating tags...
 - demo-skaffold -&amp;gt; demo-skaffold:latest
Some taggers failed. Rerun with &lt;span class=&quot;nt&quot;&gt;-vdebug&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;errors.
Checking cache...
 - demo-skaffold: Found Locally
Tags used &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;deployment:
 - demo-skaffold -&amp;gt; demo-skaffold:275bf648a141313e52f422d73ad69379be4f4d7c3e9e50fe3c16289da8391c33
Starting deploy...
 - configmap/demo-skaffold created
 - deployment.apps/demo-skaffold created
 - service/demo-skaffold created
Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;deployments to stabilize...
 - deployment/demo-skaffold is ready.
Deployments stabilized &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;2.047 seconds
Port forwarding service/demo-skaffold &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;namespace default, remote port 8080 -&amp;gt; http://127.0.0.1:8080
Press Ctrl+C to &lt;span class=&quot;nb&quot;&gt;exit
&lt;/span&gt;Watching &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;changes...
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend]  __  __ _                                  _   
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] |  &lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; ___ _ __ ___  _ __   __ _ _   _| |_ 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] | |&lt;span class=&quot;se&quot;&gt;\/&lt;/span&gt;| | |/ __| &lt;span class=&quot;s1&quot;&gt;'__/ _ \| '&lt;/span&gt;_ &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;/ _&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; | | | | __|
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] | |  | | | &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;__| | | &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; | | | | &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;_| | |_| | |_ 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] |_|  |_|_|&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;__|_|  &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;__/|_| |_|&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_,_|&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_,_|&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_|
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend]   Micronaut &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v3.5.1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] 14:15:41.202 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;main] INFO  i.m.context.env.DefaultEnvironment - Established active environments: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;k8s, cloud]
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;backend] 14:15:41.557 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;main] INFO  io.micronaut.runtime.Micronaut - Startup completed &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;803ms. Server Running: http://demo-skaffold-5bfb47c8fc-cvld4:8080
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/articles/devops/skaffold-et-minikube//localhost.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En quelques minutes, mon application est dÃ©marrÃ© sur mon cluster &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt; local.
Je peux voir avec une commande &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl get all&lt;/code&gt; que mes manifests ont bien Ã©tÃ© dÃ©ployÃ©s et que mon application tourne:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;kubectl get all
NAME                                 READY   STATUS    RESTARTS   AGE
pod/demo-skaffold-5bfb47c8fc-cvld4   1/1     Running   0          19m

NAME                    TYPE        CLUSTER-IP   EXTERNAL-IP   PORT&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;    AGE
service/demo-skaffold   ClusterIP   None         &amp;lt;none&amp;gt;        8080/TCP   19m
service/kubernetes      ClusterIP   10.96.0.1    &amp;lt;none&amp;gt;        443/TCP    1d

NAME                            READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/demo-skaffold   1/1     1            1           19m

NAME                                       DESIRED   CURRENT   READY   AGE
replicaset.apps/demo-skaffold-5bfb47c8fc   1         1         1       19m

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; est aussi capable de faire du &lt;em&gt;hot-reload&lt;/em&gt; sans configuration supplÃ©mentaire pour les applications buildÃ©es avec &lt;em&gt;jib&lt;/em&gt;.
Il suffit de:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;modifier le code&lt;/li&gt;
  &lt;li&gt;attendre quelques secondes que le code soit re-compilÃ© et lâ€™application est re-dÃ©marrÃ©e&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Watching &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;changes...
Generating tags...
 - pom-xml-image -&amp;gt; pom-xml-image:latest
Some taggers failed. Rerun with &lt;span class=&quot;nt&quot;&gt;-vdebug&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;errors.
Checking cache...
 - pom-xml-image: Not found. Building
Starting build...
Found &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;minikube] context, using &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;docker daemon.
Building &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pom-xml-image]...
Target platforms: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;linux/amd64]

...

Build &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pom-xml-image] succeeded
Tags used &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;deployment:
 - pom-xml-image -&amp;gt; pom-xml-image:c6d646c3c9ba7ac130cfe23c31b2391584b4bddfce984b2cc1f1f2c711c9d509
Starting deploy...
Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;deployments to stabilize...
 - deployment/pom-xml-image is ready.
Deployments stabilized &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;1.038 second
Port forwarding service/pom-xml-image &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;namespace default, remote port 8080 -&amp;gt; http://127.0.0.1:8080
Watching &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;changes...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est particuliÃ¨rement pratique pour tester une application localement!
Si je veux arrÃªter de dÃ©velopper, jâ€™utilise la combinaison de touches &lt;em&gt;CTRL+C&lt;/em&gt;, qui va stopper lâ€™application et faire le mÃ©nage sur le cluster Kubernetes:&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;^C
Cleaning up...
 - configmap &lt;span class=&quot;s2&quot;&gt;&quot;demo-skaffold&quot;&lt;/span&gt; deleted
 - deployment.apps &lt;span class=&quot;s2&quot;&gt;&quot;demo-skaffold&quot;&lt;/span&gt; deleted
 - service &lt;span class=&quot;s2&quot;&gt;&quot;demo-skaffold&quot;&lt;/span&gt; deleted
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; permet de rendre accessible au dÃ©veloppeur le dÃ©ploiement sur un cluster Kubernetes, local ou distant. Cet article a prÃ©sentÃ© son usage sur un cluster local &lt;code class=&quot;highlighter-rouge&quot;&gt;minikube&lt;/code&gt;, mais &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; fonctionne de maniÃ¨re indiffÃ©renciÃ©e sur un cluster distant. Il permet aussi de rÃ©utiliser des fichiers de configuration Kubernetes, Kustomize ou Helm existants, ce qui est trÃ¨s pratique si lâ€™application dispose dÃ©jÃ  de ce type de fichiers.&lt;/p&gt;

&lt;p&gt;Le port forward est trÃ¨s bien intÃ©grÃ© et pratique Ã  lâ€™usage (pas besoin de taper une commande &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl&lt;/code&gt; supplÃ©mentaire).&lt;/p&gt;

&lt;p&gt;La &lt;a href=&quot;https://skaffold.dev/docs/&quot; target=&quot;_blank&quot;&gt;documentation de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt;&lt;/a&gt; est trÃ¨s complÃ¨te et indique tous les paramÃ¨tres que chaque phase de son pipeline accepte et fourni aussi des liens vers des tutoriaux.&lt;/p&gt;

&lt;p&gt;Enfin, &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt; est au coeur des plugins &lt;em&gt;Cloud Code&lt;/em&gt; de Google, pour IntelliJ IDEA et VSCode pour lâ€™exÃ©cution et le dÃ©ploiement des application sur Kubernetes.&lt;/p&gt;

&lt;p&gt;De nombreux &lt;a href=&quot;https://github.com/GoogleContainerTools/skaffold/tree/main/examples&quot; target=&quot;_blank&quot;&gt;exemples&lt;/a&gt; sont disponibles sur le repository Github de &lt;code class=&quot;highlighter-rouge&quot;&gt;skaffold&lt;/code&gt;, il y en aura surement un qui correspondra Ã  votre type de projet si vous voulez expÃ©rimenter.&lt;/p&gt;

&lt;h3 id=&quot;liens&quot;&gt;Liens&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;le repository Github de &lt;a href=&quot;https://github.com/GoogleContainerTools/skaffold&quot; target=&quot;_blank&quot;&gt;GoogleContainerTools/skaffold&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;le site web &lt;a href=&quot;https://skaffold.dev/&quot; target=&quot;_blank&quot;&gt;skaffold.dev&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;la &lt;a href=&quot;https://skaffold.dev/docs/&quot; target=&quot;_blank&quot;&gt;documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;les &lt;a href=&quot;https://github.com/GoogleContainerTools/skaffold/tree/main/examples&quot; target=&quot;_blank&quot;&gt;exemples de code sur Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;julien_wittouck&quot;]</name></author><category term="Devops" /><category term="kubernetes" /><category term="skaffold" /><category term="minikube" /><category term="docker" /><summary type="html">Lors du dÃ©veloppement dâ€™une application pour Kubernetes, le dÃ©veloppeur est souvent liÃ© Ã  une boucle de feedback assez longue: DÃ©veloppement Contruction de lâ€™image Docker (quelques secondes/minutes) Push de lâ€™image sur un registry DÃ©ploiement sur Kubernetes (quelques minutes) Cette boucle est gÃ©nÃ©ralement implÃ©mentÃ©e par des pipelines de CI/CD. Ces pipelines augmentent encore le temps entre le dÃ©veloppement et une application dÃ©marrÃ©e sur Kubernetes. Ce temps est relativement long lorsquâ€™on compare un cycle de dÃ©veloppement local auquel un dÃ©veloppeur peut Ãªtre habituÃ©. skaffold, dÃ©veloppÃ© par Google, est un outil open-source en license Apache, qui permet dâ€™implÃ©menter cette boucle de dÃ©veloppement sur un environnement Kubernetes local ou distant. La promesse de skaffold est de rendre le dÃ©veloppement sur Kubernetes simple, rapide et reproductible.</summary></entry><entry><title type="html">Design Pattern</title><link href="/articles/other/design-pattern/" rel="alternate" type="text/html" title="Design Pattern" /><published>2022-06-15T02:00:00-05:00</published><updated>2022-06-15T02:00:00-05:00</updated><id>/articles/other/design-pattern</id><content type="html" xml:base="/articles/other/design-pattern/">&lt;h5 id=&quot;lart-de-savoir-utiliser-le-bon-outil-au-bon-moment&quot;&gt;Lâ€™art de savoir utiliser le bon outil au bon moment&lt;br /&gt;&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//image-pattern.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les â€œDesign Patternsâ€, ou â€œpatrons de conceptionâ€, sont un ensemble de solutions reconnues, particuliÃ¨rement dans la programmation orientÃ©e objet, comme Ã©tant la meilleure rÃ©ponse afin de rÃ©soudre un problÃ¨me de conception rÃ©current.&lt;/p&gt;

&lt;p&gt;Les exemples de patrons peuvent Ãªtre faits de diffÃ©rentes faÃ§ons: par le biais de schÃ©mas, de pseudo code, la maniÃ¨re dâ€™organiser ses modules ou classes ou Ã  lâ€™aide dâ€™une implÃ©mentation proposÃ©e.&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;h2 id=&quot;doÃ¹-viennent-ils-&quot;&gt;Dâ€™oÃ¹ viennent-ils ?&lt;/h2&gt;

&lt;p&gt;Nous pouvons Ãªtre redevable Ã  Christopher Alexander, anthropologue et architecte AmÃ©ricain pour avoir travaillÃ© sur â€œla thÃ©orie des Pattern Languagesâ€ permettant des dÃ©clinaisons dans des domaines aussi divers que lâ€™histoire de lâ€™art, lâ€™anthropologieâ€¦&lt;br /&gt;
Cette faÃ§on dâ€™aborder le modÃ¨le de conception a Ã©tÃ© reprise en 1987 par Kent Beck (concepteur dâ€™extrÃªme programming) et Ward Cunningham (inventeur du concept de Wiki) , qui ont dÃ©cidÃ© dâ€™appliquer ce type de design architectural Ã  lâ€™informatique.&lt;br /&gt;
Câ€™est en 1994, Ã  la suite dâ€™un livre nommÃ© &lt;b&gt;Design Patterns: Elements of Reusable Software&lt;/b&gt; co-Ã©crit par un collectif (GoF pour Gang of Four) et dÃ©crivant plus dâ€™une vingtaine de patrons que ce principe fut rÃ©ellement reconnu.&lt;/p&gt;

&lt;h2 id=&quot;voici-les-diffÃ©rents-types-de-patrons-de-conception-&quot;&gt;Voici les diffÃ©rents types de patrons de conception :&lt;/h2&gt;

&lt;h3 id=&quot;le-patron-de-crÃ©ation-creational-pattern&quot;&gt;&lt;b&gt;Le patron de crÃ©ation&lt;/b&gt; (Creational Pattern)&lt;br /&gt;&lt;/h3&gt;
&lt;p&gt;Il a pour but dâ€™aider Ã  rÃ©soudre les problÃ¨mes dâ€™instanciation de classes.&lt;/p&gt;

&lt;p&gt;Quelques exemples:&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Singleton&lt;/li&gt;
  &lt;li&gt;Prototype&lt;/li&gt;
  &lt;li&gt;Fabrique (Factory)&lt;/li&gt;
  &lt;li&gt;Fabrique Abstraite (Abstract Factory)&lt;/li&gt;
  &lt;li&gt;Monteur (Builder)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;le-patron-de-structure-structural-pattern&quot;&gt;&lt;b&gt;Le patron de structure&lt;/b&gt; (Structural Pattern)&lt;/h3&gt;
&lt;p&gt;Structurer les classes et objets afin de garder ceux-ci flexibles et efficaces au travers de leur 
structuration et leur interface.&lt;/p&gt;

&lt;p&gt;Quelques exemples:&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Pont (Bridge)&lt;/li&gt;
  &lt;li&gt;FaÃ§ade&lt;/li&gt;
  &lt;li&gt;Adaptateur (Adapter)&lt;/li&gt;
  &lt;li&gt;Objet composite&lt;/li&gt;
  &lt;li&gt;Proxy&lt;/li&gt;
  &lt;li&gt;Poids-mouche (Flyweight pattern)&lt;/li&gt;
  &lt;li&gt;DÃ©corateur (Decorator)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;le-patron-de-comportement-behavioral-pattern&quot;&gt;&lt;b&gt;Le patron de comportement&lt;/b&gt; (Behavioral Pattern)&lt;/h3&gt;
&lt;p&gt;Permet de modÃ©liser et rÃ©partir les responsabilitÃ©s entre les objets.&lt;/p&gt;

&lt;p&gt;Quelques exemples:&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ChaÃ®ne de responsabilitÃ© (Chain of Responsibility)&lt;/li&gt;
  &lt;li&gt;Commande (Command)&lt;/li&gt;
  &lt;li&gt;InterprÃ©teur (Interpreter)&lt;/li&gt;
  &lt;li&gt;ItÃ©rateur (Iterator)&lt;/li&gt;
  &lt;li&gt;MÃ©diateur (Mediator)&lt;/li&gt;
  &lt;li&gt;MÃ©mento&lt;/li&gt;
  &lt;li&gt;Observateur (Observer)&lt;/li&gt;
  &lt;li&gt;Etat (State)&lt;/li&gt;
  &lt;li&gt;StratÃ©gie (Strategy)&lt;/li&gt;
  &lt;li&gt;Patron de mÃ©thode (Template Method Pattern)&lt;/li&gt;
  &lt;li&gt;Visiteur (Visitor)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;quand-et-pourquoi-les-utiliser-&quot;&gt;Quand et pourquoi les utiliser ?&lt;/h2&gt;

&lt;p&gt;Un dÃ©veloppeur ayant une culture du Design Pattern (et sachant quand câ€™est le moment dâ€™en utiliser un) pourra trouver plus rapidement une solution grÃ¢ce aux diffÃ©rents paradigmes proposÃ©s et ayant dÃ©jÃ  fait leurs preuves.&lt;/p&gt;

&lt;p&gt;Il permet donc :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;dâ€™accÃ©lÃ©rer le processus de dÃ©veloppement,&lt;/li&gt;
  &lt;li&gt;de rÃ©duire les bugs potentiels,&lt;/li&gt;
  &lt;li&gt;de connaÃ®tre les bonnes pratiques et les piÃ¨ges Ã  Ã©viter&lt;/li&gt;
  &lt;li&gt;de sâ€™appuyer sur la capitalisation de lâ€™expÃ©rience de la communautÃ©.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Il est donc vraiment important de lâ€™intÃ©grer le plus tÃ´t possible dans le processus de conception / dÃ©veloppement.&lt;br /&gt;
Un bon dÃ©veloppeur devra savoir sâ€™arrÃªter et remettre en question son code lorsquâ€™il se retrouve face Ã  un problÃ¨me.&lt;br /&gt;
Il faudra se demander â€œNe suis-je pas en train de rÃ©inventer la roue ? Nâ€™existe tâ€™il pas un patron qui pourrait rÃ©pondre Ã  ma problÃ©matique ?â€&lt;/p&gt;

&lt;h3 id=&quot;quelques-exemples&quot;&gt;Quelques exemples&lt;/h3&gt;

&lt;p&gt;Il existe de nombreux modÃ¨les qui sont souvent trÃ¨s utilisÃ©s. La plupart du temps beaucoup de dÃ©veloppeurs en utilisent sans savoir quâ€™il sâ€™agit de modÃ¨les de patrons de conception.
Voici quelques cas parmis ceux que vous utilisez peut-Ãªtre sans mÃªme le savoir.&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;ModÃ¨le Composite&lt;/b&gt; : pour reprÃ©senter des structures arborescentes pour prÃ©senter des hiÃ©rarchies de composants / composÃ©s.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;Singleton&lt;/b&gt; qui permet de limiter lâ€™instanciation dâ€™une classe Ã  un seul objet.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-2.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les &lt;b&gt;itÃ©rateurs&lt;/b&gt; qui permettent de parcourir les Ã©lÃ©ments dâ€™une collection (liste, arbre etc.).&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;Proxy&lt;/b&gt; : substitue une classe Ã  une autre en utilisant la mÃªme interface permettant entre autres la sÃ©curitÃ© ou lâ€™appel de mÃ©thodes Ã  distance.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-3.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;DÃ©corateur&lt;/b&gt; : attacher dynamiquement des nouvelles responsabilitÃ©s Ã  un objet&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-4.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;FaÃ§ade&lt;/b&gt; pour simplifier lâ€™utilisation dâ€™une interface complÃ¨te.&lt;/p&gt;

&lt;p&gt;Lâ€™&lt;b&gt;Observateur&lt;/b&gt; : mÃ©canisme de souscription afin dâ€™envoyer des notifications Ã  plusieurs objets qui sont observÃ©s.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-5.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le &lt;b&gt;StratÃ©gie&lt;/b&gt; qui permet de crÃ©er des algorithmes sÃ©parÃ©s dans plusieurs classes autonomes / interchangeables.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/other/design-pattern//dp-6.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Voici un cas dâ€™usage Ã©crit en Typescript pour savoir quand lâ€™utiliser. Imaginons que lâ€™on souhaite faire plusieurs actions diffÃ©rentes mais avec le mÃªme objet, nous pourrions Ãªtre tentÃ© de faire une classe qui contiendrait toutes ces actions? Oui et non, car celÃ  reviendrait Ã  ne pas respecter un des principes du &lt;a href=&quot;https://fr.wikipedia.org/wiki/SOLID_(informatique)&quot;&gt;SOLID&lt;/a&gt; Ã  savoir le â€œSâ€ pour Single Responsibility Principe.
Prenons le cas dâ€™un site, nous voulons dÃ©velopper une classe qui permet de gÃ©rer le paiement.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;Interface&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PaymentStrategy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nous allons ensuite crÃ©er plusieurs classes correspondant aux diffÃ©rents moyens de paiement :&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CreditCardStrategy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PaymentStrategy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//  ici on fait des traitements diffÃ©rents&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;je paye en carte de crÃ©dit un total de&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;		
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;OtherPaymentStrategy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PaymentStrategy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;


    &lt;span class=&quot;c1&quot;&gt;//  ici on fait des traitements diffÃ©rents&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;je paye en X moyen de paiement un total de&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;		
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pour finir nous crÃ©erons une classe finale qui va permettre dâ€™utiliser notre stratÃ©gie.&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Cart&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;kd&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTotalCart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PaymentStrategyMethod&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;methodToPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;methodToPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTotalCart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Afin dâ€™utiliser tout Ã§a on pourrait imaginer un sÃ©lecteur lorsque lâ€™on passe Ã  lâ€™Ã©tape du paiement qui permettrait de sÃ©lectionner son moyen de paiement prÃ©fÃ©rÃ©.&lt;/p&gt;

&lt;p&gt;exemple :&lt;/p&gt;

&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;cart&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Cart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;199&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;cart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CreditCardStrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// pour le premier cas&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;cart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;doPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;OtherPaymentStrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// pour le second cas&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Le &lt;b&gt;Prototype&lt;/b&gt; qui permet de crÃ©er de nouveaux objets Ã  partir dâ€™objets existants tout en laissant Ã  la classe le soin du type dâ€™objet Ã  crÃ©er.&lt;/p&gt;

&lt;p&gt;La &lt;b&gt;Fabrique&lt;/b&gt; pour instancier des objets dans une classe mÃ¨re tout en laissant aux sous classes le choix des types dâ€™objets Ã  crÃ©er.&lt;/p&gt;

&lt;p&gt;Lâ€™ &lt;b&gt;Object Pool&lt;/b&gt; pour Ã©conomiser le temps dâ€™instanciation et de suppression lorsque de nombreux objets ayant une vie courte seront utilisÃ©s.&lt;/p&gt;

&lt;h2 id=&quot;pour-finir&quot;&gt;Pour finir&lt;/h2&gt;

&lt;p&gt;Vous lâ€™aurez compris, le Design Pattern fait partie intÃ©grante des outils indispensables du dÃ©veloppeur.&lt;br /&gt; 
Le but de cet article est de vous donner lâ€™envie de vous y intÃ©resser, de lire, de dÃ©couvrir et surtout dâ€™apprendre Ã  savoir quand les utiliser afin de rÃ©pondre au mieux Ã  vos besoins.&lt;/p&gt;

&lt;p&gt;Attention toutefois Ã  ne pas tomber dans lâ€™exact contraire, Ã  savoir, lâ€™anti pattern.&lt;br /&gt;
Cela reviendrait Ã  faire le mauvais choix et donc Ã  apporter la mauvaise rÃ©ponse Ã  une problÃ©matique donnÃ©e.&lt;/p&gt;

&lt;p&gt;Voici un exemple dÃ©veloppÃ© en Java par Maxime, il combine le Pattern Observer et Builder avec comme thÃ¨me lâ€™organisation de course Ã  pied. &lt;br /&gt;
Lien du repos git : https://github.com/ekit3/design-pattern&lt;/p&gt;

&lt;p&gt;Sources ayant servie Ã  Ã©crire lâ€™article et pour aller plus loin :&lt;/p&gt;

&lt;p&gt;https://fr.wikibooks.org/wiki/Patrons_de_conception
https://ryax.tech/fr/design-pattern-cest-quoi-et-pourquoi-lutiliser/
https://refactoring.guru/
https://madasamy.medium.com/introduction-to-object-oriented-design-patterns-part-i-4e5c7845015b&lt;/p&gt;</content><author><name>[&quot;laurent_duchaussoy&quot;]</name></author><category term="Other" /><summary type="html">Lâ€™art de savoir utiliser le bon outil au bon moment Les â€œDesign Patternsâ€, ou â€œpatrons de conceptionâ€, sont un ensemble de solutions reconnues, particuliÃ¨rement dans la programmation orientÃ©e objet, comme Ã©tant la meilleure rÃ©ponse afin de rÃ©soudre un problÃ¨me de conception rÃ©current. Les exemples de patrons peuvent Ãªtre faits de diffÃ©rentes faÃ§ons: par le biais de schÃ©mas, de pseudo code, la maniÃ¨re dâ€™organiser ses modules ou classes ou Ã  lâ€™aide dâ€™une implÃ©mentation proposÃ©e.</summary></entry><entry><title type="html">Les structures algÃ©briques</title><link href="/articles/front-end/algebraic-structure/" rel="alternate" type="text/html" title="Les structures algÃ©briques" /><published>2022-05-18T02:00:00-05:00</published><updated>2022-05-18T02:00:00-05:00</updated><id>/articles/front-end/algebraic-structure</id><content type="html" xml:base="/articles/front-end/algebraic-structure/">&lt;p&gt;Les premiers algorithmes ont Ã©tÃ© rÃ©alisÃ©s bien avant que le premier ordinateur ne soit conceptualisÃ©.&lt;br /&gt; 
Le tout premier algorithme connu a Ã©tÃ© Ã©crit en -300 avant notre Ã¨re par Euclide (PGCD).&lt;br /&gt;
Aujourdâ€™hui les mathÃ©matiques font rÃªver, font peur et semblent parfois inaccessibles. Une chose est sÃ»re, elles sont partout.&lt;br /&gt;
Comptables, dÃ©veloppeurs, boulangers ou mÃªme politiques, tous utilisent les mathÃ©matiques : le langage suit un ensemble de rÃ¨gles mathÃ©matiques.&lt;br /&gt;
Les structures du langage sont rÃ©alisÃ©es par lâ€™application dâ€™un arbre de la syntaxe abstraite.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les structures algÃ©briques font partie des bases des mathÃ©matiques. Câ€™est un socle sur lequel de nombreuses rÃ¨gles sont construites.&lt;br /&gt;
En particulier, pour rÃ©aliser des applications robustes, performantes et maintenables. Elles peuvent apporter une aide prÃ©cieuse.&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;h4 id=&quot;dÃ©finition&quot;&gt;DÃ©finition:&lt;/h4&gt;

&lt;p&gt;Les structures algÃ©briques sont un ensemble dâ€™entitÃ©s basÃ©es sur des axiomes initiaux Ã  partir desquels il est possible de dÃ©montrer un certain nombre de lois.&lt;br /&gt;
Lâ€™objectif de ces structures est dâ€™assurer, aprÃ¨s avoir vÃ©rifiÃ© des axiomes simples, la dÃ©duction de lois dont il est possible de tirer des conclusions utiles.&lt;br /&gt;
Les premiÃ¨res structures Ã  Ã©tudier, les plus simples, sont les magmas et les monoÃ¯des.&lt;/p&gt;

&lt;h3 id=&quot;les-magmas&quot;&gt;Les magmas&lt;/h3&gt;

&lt;p&gt;Les magmas sont les fondations des structures algÃ©briques, le premier niveau. Ils permettent de dÃ©finir le contexte.&lt;br /&gt;
Cependant, nâ€™ayant que trÃ¨s peu de contraintes, ils ne donnent pas la possibilitÃ© dâ€™en dÃ©duire beaucoup de lois.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Recette miracle:&lt;/b&gt;&lt;br /&gt;
&lt;b&gt;Pour crÃ©er un magma, il faut rÃ©unir un ensemble et une loi de composition interne.&lt;/b&gt;
&lt;br /&gt;&lt;br /&gt;
Un ensemble est constituÃ© dâ€™Ã©lÃ©ments en nombre fini ou non et peut Ãªtre constituÃ© de diffÃ©rents types dâ€™Ã©lÃ©ments.&lt;br /&gt;
Par exemple, lâ€™univers est un ensemble contenant des sous-ensembles de planÃ¨tes, dâ€™Ã©toiles, de trou noirs, etc.&lt;/p&gt;

&lt;p&gt;Une loi de composition interne est une opÃ©ration entre deux Ã©lÃ©ments de lâ€™ensemble qui renvoie un Ã©lÃ©ment de ce mÃªme ensemble.&lt;br /&gt;
Lâ€™opÃ©ration consistant Ã  mÃ©langer deux pots de peinture crÃ©e un autre pot de peinture avec une couleur potentiellement diffÃ©rente.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;CH&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;C056&lt;/td&gt;
      &lt;td&gt;B084&lt;/td&gt;
      &lt;td&gt;M083&lt;/td&gt;
      &lt;td&gt;C189&lt;/td&gt;
      &lt;td&gt;M356&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Henri a 8 ans, adore les cailloux et ses amis (Charles, Bertrand et Marie), il est aussi un spÃ©cialiste des mathÃ©matiques.&lt;/p&gt;

&lt;p&gt;Henri possÃ¨de 5 cailloux et une maniÃ¨re trÃ¨s spÃ©ciale de les nommer. Cependant Henri ne donne pas de noms alÃ©atoires. Ses cailloux ont un nom relatif Ã  lâ€™endroit et au jour oÃ¹ ils les trouvent.&lt;br /&gt;
Par exemple Henri a trouvÃ© C056 dans le jardin de son ami Charles, le 56Ã¨me jour de lâ€™annÃ©e.&lt;/p&gt;

&lt;p&gt;CH est un sous-ensemble dâ€™un ensemble. Il est caractÃ©risÃ© par la concatÃ©nation dâ€™une lettre et dâ€™une sÃ©rie de chiffres allant de 000 Ã  365 ; appelons cet ensemble CPH (Cailloux potentiels dâ€™Henri).&lt;/p&gt;

&lt;p&gt;Henri est confrontÃ© Ã  un problÃ¨me, il veut savoir quel est son caillou le plus fort. Il va donc pour cela crÃ©er une opÃ©ration pour lui permettre de sâ€™y retrouver.&lt;/p&gt;

&lt;p&gt;Voici en quoi consiste son opÃ©ration (selon ses propres mots) :&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Calculer le poids de chaque caillou.&lt;/li&gt;
  &lt;li&gt;Multiplier la position dans lâ€™alphabet de la lettre par le numÃ©ro du jour de lâ€™annÃ©e.
Comparer lequel est le plus gros, si les deux sont Ã©galitÃ©s le poids de la lettre lâ€™emporte.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Le rÃ©sultat de lâ€™opÃ©ration dâ€™Henri a crÃ©Ã© ce tableau :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/algebraic-structure//img-1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Henri ne le sait pas mais il vient de crÃ©er un Magma sur lâ€™ensemble CH.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Lâ€™application du plus fort Caillou v0.1.0&lt;/b&gt;&lt;/p&gt;
&lt;details&gt;
  &lt;p&gt;&lt;b&gt;Configuration requise:&lt;/b&gt;&lt;br /&gt;
Un magma, ne possÃ©dant aucune autre propriÃ©tÃ© que celles susmentionnÃ©es, permet deux choses essentielles.&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;ContrÃ´ler les limites des entrÃ©es&lt;/li&gt;
    &lt;li&gt;Mettre en pratique une analyse sÃ©quentielle via une opÃ©ration (LCI).&lt;/li&gt;
  &lt;/ol&gt;

  &lt;p&gt;Classiquement (sans savoir que câ€™est un magma) une simple analyse syntaxique sur une chaÃ®ne de caractÃ¨re suffit :&lt;/p&gt;

  &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stronger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cailloux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputFormat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;[A-Z]([0-2][0-9][0-9]|3([0-5][0-9]|6[0-5]))&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ToIntFunction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cailloux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is not a Caillou&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isEmpty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
       &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
         &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;applyAsInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;applyAsInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Ici les cailloux potentiels dâ€™Henri ont une forme trÃ¨s spÃ©cifique. Voici le rÃ©sultat avec un magma :&lt;/p&gt;

  &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dayOfYear&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dayOfYear&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dayOfYear&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;365&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is not a Caillou&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;65&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is not a Caillou&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dayOfYear&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;strongest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stronger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;strongest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;henrisCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputList&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;Caillou:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;Caillou:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stronger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
  &lt;p&gt;&lt;b&gt;Le magma permet de dÃ©finir le cadre de travail :&lt;/b&gt;&lt;/p&gt;
&lt;/details&gt;
&lt;ul&gt;
  &lt;li&gt;ConnaÃ®tre lâ€™ensemble des Ã©lÃ©ments sur lesquels les actions sont rÃ©alisÃ©es.&lt;/li&gt;
  &lt;li&gt;ConnaÃ®tre lâ€™opÃ©ration qui sera utilisÃ©e en sâ€™assurant que le rÃ©sultat fait partie de lâ€™ensemble
Aucune autre conclusion ne peut Ãªtre dÃ©duite de ce cadre de travail. Il sâ€™agit de structurer la pensÃ©e mais pour aller plus loin et faciliter les traitements, il est nÃ©cessaire de dÃ©finir un cadre lÃ©gÃ¨rement plus contraint.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Aucune autre conclusion ne peut Ãªtre dÃ©duite de ce cadre de travail. Il sâ€™agit de structurer la pensÃ©e mais pour aller plus loin et faciliter les traitements, il est nÃ©cessaire de dÃ©finir un cadre lÃ©gÃ¨rement plus contraint.&lt;/p&gt;

&lt;h3 id=&quot;les-monoÃ¯des&quot;&gt;Les monoÃ¯des&lt;/h3&gt;

&lt;p&gt;Les monoÃ¯des proviennent dâ€™un terme allemand, mal-traduit, signifiant â€œIndividuâ€.&lt;br /&gt;
Les monoÃ¯des sont, comme toutes les structures algÃ©briques, des magmas respectant des axiomes supplÃ©mentaires. Ces axiomes permettent de dÃ©montrer des propriÃ©tÃ©s qui peuvent sâ€™avÃ©rer trÃ¨s utiles.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Recette miracle&lt;/b&gt;
&lt;b&gt;Pour crÃ©er un monoÃ¯de nous avons besoin dâ€™un magma unifÃ¨re et associatif.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;UnifÃ¨re signifie que lâ€™ensemble contient un Ã©lÃ©ment neutre vis-Ã -vis de lâ€™opÃ©ration du magma. Cet Ã©lÃ©ment neutre nâ€™impacte pas le rÃ©sultat si on rÃ©alise lâ€™opÃ©ration avec nâ€™importe quel Ã©lÃ©ment. &lt;code class=&quot;highlighter-rouge&quot;&gt;(n+0 = n et 0+m = m; 0 est un Ã©lÃ©ment neutre pour lâ€™opÃ©ration '+' dans lâ€™ensemble des entiers)&lt;/code&gt;.&lt;br /&gt;
Associatif signifie quâ€™une chaÃ®ne dâ€™opÃ©ration peut Ãªtre rÃ©alisÃ©e dans nâ€™importe quel ordre sans que le rÃ©sultat sâ€™en trouve modifiÃ©. &lt;code class=&quot;highlighter-rouge&quot;&gt;(a+b+c = (a+b)+c = a+(b+c); la somme est associative)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Associatif signifie quâ€™une chaÃ®ne dâ€™opÃ©ration peut Ãªtre rÃ©alisÃ©e dans nâ€™importe quel ordre sans que le rÃ©sultat sâ€™en trouve modifiÃ©. &lt;code class=&quot;highlighter-rouge&quot;&gt;(a+b+c = (a+b)+c = a+(b+c); la somme est associative)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Ces deux propriÃ©tÃ©s du monoÃ¯de permettent de dÃ©montrer une loi trÃ¨s intÃ©ressante pour les traitements informatiques : les calculs parallÃ¨les. Sans faire la dÃ©monstration, un exemple permet de sâ€™imaginer cette propriÃ©tÃ© en utilisant le monoÃ¯de prÃ©cÃ©demment utilisÃ© : lâ€™ensemble des entiers munis de la somme.&lt;/p&gt;

&lt;p&gt;Lâ€™opÃ©ration consiste Ã  rÃ©aliser &lt;code class=&quot;highlighter-rouge&quot;&gt;1+2+3+4+5+6&lt;/code&gt;. Lâ€™associativitÃ© permet de rÃ©aliser les opÃ©rations sous la forme &lt;code class=&quot;highlighter-rouge&quot;&gt;(1+2)+(3+4)+(5+6) = 3+7+11 = 10+11 = 21&lt;/code&gt;. Pour rÃ©aliser les cinq opÃ©rations &lt;code class=&quot;highlighter-rouge&quot;&gt;(nombre de signes â€˜+â€™)&lt;/code&gt;, trois sÃ©ries de calculs ont Ã©tÃ© nÃ©cessaires &lt;code class=&quot;highlighter-rouge&quot;&gt;(nombre de '=')&lt;/code&gt; en parallÃ©lisant trois opÃ©rations dans la premiÃ¨re Ã©tape. Cela est mathÃ©matiquement permis uniquement dans le cadre du monoÃ¯de.&lt;/p&gt;

&lt;h3 id=&quot;exemple--le-monoÃ¯de-derriÃ¨re-le-magma-dhenri&quot;&gt;Exemple : Le MonoÃ¯de derriÃ¨re le Magma dâ€™Henri&lt;/h3&gt;

&lt;p&gt;PrÃ©cÃ©demment, Henri a crÃ©Ã© un magma, il a Ã©galement crÃ©Ã© un monoÃ¯de sur lâ€™ensemble CPH (Cailloux potentiels dâ€™Henri).
Comment Henri a rÃ©ussi Ã  construire ce monoÃ¯de ?&lt;/p&gt;

&lt;p&gt;&lt;b&gt;AssociativitÃ©&lt;/b&gt;
Il faut dÃ©montrer lâ€™associativitÃ© de lâ€™opÃ©ration stronger(), visuellement sur lâ€™ensemble CH on peut le voir (effet miroir) :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/algebraic-structure//img-1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Il sâ€™agit dâ€™appliquer ces vÃ©rifications sur lâ€™ensemble CPH. En mathÃ©matiques il est coutÃ»me de dÃ©montrer par formulation que tout Ã©lÃ©ment respecte lâ€™associativitÃ©. NaÃ¯vement câ€™est possible (un Ã©lÃ©ment Ã  la fois). Cet ensemble est prÃ©sent dans 2 autres ensembles : Lâ€™alphabet et les chiffres allant de 0 Ã  365.&lt;/p&gt;

&lt;p&gt;Il est possible de dÃ©composer et se placer dans un ensemble commun :&lt;/p&gt;

&lt;p&gt;Il existe une Ã©tape intermÃ©diaire : le calcul du poids. Le calcul du poids est un entiers allant de &lt;code class=&quot;highlighter-rouge&quot;&gt;0 Ã  9 125 (25 (Z)  * 365)&lt;/code&gt; . Nous appliquons ensuite une comparaison au maximum. 
Cette Ã©tape intermÃ©diaire se place dans un sous-ensemble dâ€™un ensemble trÃ¨s connu : les entiers naturels contenant 0. De plus, lâ€™associativitÃ© des extremums (calcul maximum et minimum) a Ã©tÃ© dÃ©montrÃ©e sur cet ensemble.&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;UnifÃ¨re&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;Il faut prouver lâ€™existence dâ€™ un Ã©lÃ©ment neutre. Selon les critÃ¨res dâ€™Henri le poids dâ€™un cailloux est relatif Ã  sa position dans lâ€™alphabet puis agrÃ©gÃ© au jour de lâ€™annÃ©e oÃ¹ Henri lâ€™a trouvÃ© (sauf exception en cas dâ€™Ã©galitÃ© : la lettre lâ€™emporte). Cela veut dire que le poids minimum qui est de 0 (reprÃ©sentÃ© par le cailloux potentiel dâ€™Henri A000) est le cailloux le plus faible possible dans cet ensemble. 0 Ã©tant le nombre le plus petit des entiers naturels contenant 0, cela fait de lui un Ã©lÃ©ment neutre dans le calcul du maximum :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Pour tout x dans N; tel que x &amp;gt;= 0 alors x&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Le classement est ingÃ©nieux, Ã  quoi peuvent servir ces axiomes ?&lt;/p&gt;

&lt;p&gt;Lâ€™associativitÃ© permet de dire que peu importe le sens dâ€™une opÃ©ration elle aura le mÃªme rÃ©sultat. Si on lâ€™applique en premiÃ¨re ou en derniÃ¨re, rien ne change !&lt;br /&gt;
Lâ€™Ã©lÃ©ment neutre permet de mettre en place une forme dâ€™initialisation pour le cas oÃ¹ un jour Henri oublie de mettre le nom de tous ses cailloux dans son application par exemple.&lt;/p&gt;

&lt;p&gt;Henri aimerait vraiment que son application soit plus performante car il en a encore une centaineâ€¦. de milliers de cailloux Ã  traiter.
&lt;br /&gt;&lt;br /&gt;
&lt;b&gt;Lâ€™application du plus fort Caillou v0.1.1&lt;/b&gt;&lt;/p&gt;
&lt;details&gt;
  &lt;p&gt;Lâ€™associativitÃ© permet de mettre en place du multi-threading.&lt;br /&gt;
Lâ€™Ã©lÃ©ment neutre a un rÃ´le dâ€™initialisation/valeur par dÃ©faut.&lt;/p&gt;

  &lt;p&gt;Classiquement la mise en place dâ€™une certaine parallÃ©lisation est enclin Ã  de nombreux doutes. Pour continuer lâ€™exemple, il faut mettre ces doutes de cÃ´tÃ©.&lt;/p&gt;

  &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stronger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cailloux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputFormat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;[A-Z]([0-2][0-9][0-9]|3([0-5][0-9]|6[0-5]))&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ToIntFunction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;AtomicReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atomicResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AtomicReference&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A000&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ForkJoinPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cailloux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)){&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is not a Caillou&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atomicResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
            &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt;
                    &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weightACaillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weightResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;applyAsInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;letter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;applyAsInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;atomicResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aCaillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atomicResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Result : Y364
Time: 78 ms over 250000 iterations ; CPU usage (%): 4.438960808734625 %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Avant : Y364
Time: 235 ms over 250000 iterations ; CPU usage (%): 4.438960808734625 %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;Voici le rÃ©sultat avec la rÃ©flexion sur les monoÃ¯des :&lt;/p&gt;

  &lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;â€¦&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;neutral&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'A'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;â€¦&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;henrisCailloux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputList&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parallelStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;Caillou:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Caillou&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;neutral&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Caillou:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stronger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Result: Optional[Caillou[letter=Y, dayOfYear=364]]
Time: 8 ms over 250000 iterations ; CPU usage (%): 4.438960808734625 %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Avant : Optional[Caillou[letter=Y, dayOfYear=364]]
Time: 12 ms over 250000 iterations ; CPU usage (%): 4.438960808734625 %
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/details&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
Le monoÃ¯de permet dâ€™apporter de nouvelles propriÃ©tÃ©s utiles pour une meilleure conception :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Une chaÃ®ne dâ€™opÃ©ration peut Ãªtre parallÃ©lisÃ©e en garantissant le rÃ©sultat&lt;/li&gt;
  &lt;li&gt;Une valeur par dÃ©faut peut Ãªtre utilisÃ©e pour Ã©viter les erreurs de traitement
Cette structure est la premiÃ¨re Ã  apporter des propriÃ©tÃ©s utiles aux conceptions en informatique. Il en existe beaucoup dâ€™autres, plus ou moins complexes Ã  identifier, pour obtenir divers avantages. Ainsi, en vÃ©rifiant des propriÃ©tÃ©s sur un ensemble et une opÃ©ration, il est possible de dÃ©duire de nombreuses lois qui facilitent ou optimisent les traitements.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ce-quon-doit-en-retenir&quot;&gt;Ce quâ€™on doit en retenir&lt;/h3&gt;

&lt;p&gt;Bien sÃ»r il ne faut pas forcÃ©ment coder comme un grand mathÃ©maticien avec son tableau rempli de formule (quoique en dehors des formules ?).&lt;br /&gt;
Comme lâ€™a dit un grand sage â€œapprendre Ã  coder via des structures et seulement des structures est un comportement Ã©litisteâ€.&lt;br /&gt;
Ce mÃªme grand sage a dit quâ€™il est prÃ©fÃ©rable dâ€™apprendre Ã  les identifier.&lt;br /&gt;
Identifier leurs forces, leurs faiblesses, le contexte le plus adÃ©quat Ã  leur utilisation. Une fois quâ€™on arrive Ã  les cerner, une porte sâ€™ouvre vers une autre maniÃ¨re de dÃ©velopper des applications qualitatives.&lt;br /&gt;
La multitude de structures algÃ©briques qui existent nâ€™est pas exposÃ©e ici. Nous vous avons fait vivre les aventures dâ€™Henri pour ouvrir une perspective sur ce monde et dans lâ€™espoir que vous puissiez vous y faire votre propre avis.&lt;br /&gt;
Sans les mathÃ©matiques, tout est faisable, mais avec les mathÃ©matiques, tout est structurÃ©.&lt;/p&gt;

&lt;h3 id=&quot;sources-&quot;&gt;Sources :&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;https://blog.derniercri.io/observons-une-premiere-structure-algebrique-appliquee-a-linformatique-le-monoide/&lt;/li&gt;
  &lt;li&gt;https://fr.wikipedia.org/wiki/Th%C3%A9orie_des_cat%C3%A9gories#Morphismes - Xavier Van de Woestyne&lt;/li&gt;
  &lt;li&gt;Thomas HaesslÃ© - Cours et discussions (https://oteku.github.io/)&lt;/li&gt;
  &lt;li&gt;Lambda Lille - confÃ©rences (https://twitter.com/lambdalille)&lt;/li&gt;
  &lt;li&gt;https://www.youtube.com/watch?v=RaqlxOihGxw&amp;amp;list=PLNefH6S6myiMFlgsEIGHb8KZaLKE2eAZQ - micmaths&lt;/li&gt;
  &lt;li&gt;https://fr.wikipedia.org/wiki/Th%C3%A9orie_des_cat%C3%A9gories#Morphismes&lt;/li&gt;
  &lt;li&gt;https://fr.wikipedia.org/wiki/Structure_alg%C3%A9brique&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;florian_barbet&quot;]</name></author><category term="Front-End" /><summary type="html">Les premiers algorithmes ont Ã©tÃ© rÃ©alisÃ©s bien avant que le premier ordinateur ne soit conceptualisÃ©. Le tout premier algorithme connu a Ã©tÃ© Ã©crit en -300 avant notre Ã¨re par Euclide (PGCD). Aujourdâ€™hui les mathÃ©matiques font rÃªver, font peur et semblent parfois inaccessibles. Une chose est sÃ»re, elles sont partout. Comptables, dÃ©veloppeurs, boulangers ou mÃªme politiques, tous utilisent les mathÃ©matiques : le langage suit un ensemble de rÃ¨gles mathÃ©matiques. Les structures du langage sont rÃ©alisÃ©es par lâ€™application dâ€™un arbre de la syntaxe abstraite. Les structures algÃ©briques font partie des bases des mathÃ©matiques. Câ€™est un socle sur lequel de nombreuses rÃ¨gles sont construites. En particulier, pour rÃ©aliser des applications robustes, performantes et maintenables. Elles peuvent apporter une aide prÃ©cieuse.</summary></entry><entry><title type="html">Micro Front End</title><link href="/articles/front-end/micro-front-end/" rel="alternate" type="text/html" title="Micro Front End" /><published>2022-03-02T01:00:00-06:00</published><updated>2022-03-02T01:00:00-06:00</updated><id>/articles/front-end/micro-front-end</id><content type="html" xml:base="/articles/front-end/micro-front-end/">&lt;p&gt;InspirÃ© par les architectures microservices Back-End, le principe du micro-front end se rÃ©sume en une agrÃ©gation de composants web Â« isolÃ©es Â».&lt;br /&gt;
Voyez la page finale comme un puzzle oÃ¹ chaque morceau serait un composant MFE.
Ces composants peuvent Ãªtre une barre de navigation, un bouton ou tout simplement un texte. Cette dÃ©coupe apporte en quelque sorte de la â€œlibertÃ©â€.&lt;br /&gt;
Ce type dâ€™architecture permet de choisir son framework Front, dâ€™Ãªtre autonome sur sa livraison et de sÃ©parer les projets par Ã©quipes au lieu de travailler sur un monolith commun.
Le but du MFE est de simplifier la gestion, la maintenabilitÃ©, la conception et le dÃ©coupage des interfaces utilisateurs.&lt;br /&gt;
Garantir le bon fonctionnement de la page Web finale demandera de la rigueur et un travail commun.&lt;br /&gt;
Il existe une multitude de faÃ§on de faire du micro-front end notamment en utilisant des technologies HTML (Iframe) ou un agrÃ©gateur en Back End (type Node Js, Java etc..)â€¦
&lt;!--END_SUMMARY--&gt;&lt;/p&gt;

&lt;h5 id=&quot;origine&quot;&gt;Origine&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/micro-front-end//image_1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Le terme est apparu dans les RADAR techniques de Thoughtworks en 2016 mais câ€™est en 2019 que les micro-front end commencent Ã  Ã©merger.&lt;/p&gt;

&lt;h4 id=&quot;thoughtworks--qui-sont-ils-&quot;&gt;Thoughtworks : qui sont-ils ?&lt;/h4&gt;

&lt;p&gt;Câ€™est un organisme public qui se concentre sur la mise en place de concept technologique.&lt;br /&gt;
Ils mettent Ã  disposition la conception et participe Ã  la livraison de logiciels, dâ€™outils, ils proposent Ã©galement un service de conseil informatique.&lt;/p&gt;

&lt;h4 id=&quot;que-sest-il-passÃ©-entre-lapparition-du-terme-et-sa-rÃ©elle-Ã©mergence-&quot;&gt;Que sâ€™est-il passÃ© entre lâ€™apparition du terme et sa rÃ©elle Ã©mergence ?&lt;/h4&gt;

&lt;p&gt;Thoughtworks a mis Ã  disposition une recherche rÃ©alisÃ©e dans leurs Ã©quipes. Cette recherche porte sur la mise en place des micro-services au niveau de lâ€™UI. Thoughtworks a partagÃ© lâ€™Ã©volution conceptuelle des micro-front end. En Novembre 2016, arrivent les premiÃ¨res idÃ©es Ã  propos de ce type dâ€™architecture (des idÃ©es mais aussi des POC et des phases dâ€™Ã©valuation). &lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les ingÃ©nieurs de Thoughtworks pensent quâ€™il serait intÃ©ressant dâ€™appliquer un systÃ¨me de micro-services au niveau de lâ€™UI afin dâ€™Ã©viter les monolithes. Ils mettent en avant le fait que lâ€™approche BFF (back-for-front : couche permettant la communication entre le back-end et le front-end) en serait largement bÃ©nÃ©ficiaire.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Sâ€™ensuit une communication en Mai 2018 (lors de la phase dâ€™essai), celle-ci nous informe que des Ã©quipes ont mis en place des structures monolithiques au niveau des services back. Ils font un petit rappel afin dâ€™expliquer lâ€™objectif des micro-front end : obtenir des composants/pages isolÃ©s et indÃ©pendants les uns des autres et qui appartiennent Ã  diffÃ©rentes Ã©quipes.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En Avril 2019 dÃ©bute la phase dâ€™Ã©mergence, Ã  ce stade, Thoughtworks pense que la mise en place des micro-front end reprÃ©sente un bÃ©nÃ©fice certain pour les Ã©quipes de dÃ©veloppement. A partir de ce moment ils commencent Ã  informer et Ã  conseiller sur les implÃ©mentations liÃ©es aux micro-front end.&lt;/p&gt;

&lt;h4 id=&quot;et-si-jai-rien-compris--petit-rÃ©sumÃ©&quot;&gt;â€œEt si jâ€™ai rien compris ?â€: Petit RÃ©sumÃ©&lt;/h4&gt;

&lt;p&gt;Le processus liÃ© Ã  ce concept, dans un format de type release/actualisation semble venir de la frustration de certaines Ã©quipes vis-Ã -vis des monolithes.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les â€œassessmentsâ€ donne pour dÃ©finition des structures monolithiques Front : Â« large and sprawling browser applications that are as difficult to maintain and evolve as the monolithic server-side applications weâ€™ve abandoned Â»&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Soit en franÃ§ais : Â« Des applications â€œnavigateursâ€ volumineuses et entremÃªlÃ©es Ã©tant aussi difficiles Ã  maintenir et Ã  faire Ã©voluer que des applications back monolithiques dÃ©jÃ   abandonnÃ©es. Â»&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;mise-en-place&quot;&gt;Mise en place&lt;/h4&gt;

&lt;h5 id=&quot;--la-gouvernance&quot;&gt;- La Gouvernance&lt;/h5&gt;

&lt;p&gt;La gouvernance est un Ã©lÃ©ment indispensable lors de lâ€™initialisation dâ€™un projet micro-front end. La libertÃ© provenant de ce type dâ€™architecture est Ã  double tranchant. Une plus grande libertÃ© permet de rÃ©aliser plus facilement un ensemble de tÃ¢ches mais câ€™est aussi un moyen de surcharger votre application.&lt;/p&gt;

&lt;p&gt;Voici 3 axes de rÃ©flexions afin de mieux comprendre la problÃ©matique :&lt;/p&gt;

&lt;h5 id=&quot;--le-premier--dÃ©terminer-le-scope&quot;&gt;- Le premier : dÃ©terminer le scope&lt;/h5&gt;

&lt;p&gt;RÃ©flÃ©chissez Ã  la taille de vos composants (comme ce qui est fait pour les briques dans un modÃ¨le microservice en back-end). Cela permet ainsi de rÃ©flÃ©chir Ã  la taille de vos Ã©quipes et le nombre de ressources Ã  mobiliser. (Votre budget vous remerciera.)&lt;/p&gt;

&lt;h5 id=&quot;--le-second--il-en-faut-un-pour-les-gouverner-tous&quot;&gt;- Le second : il en faut un pour les gouverner tous.&lt;/h5&gt;

&lt;p&gt;Lâ€™indÃ©pendance des composants peut faire perdre de vue lâ€™objectif commun: la rÃ©alisation dâ€™une interface graphique pour une application. Cette application a des attentes en termes dâ€™objectifs, de performances, ou encore dâ€™image (marketing etcâ€¦).&lt;br /&gt;
Il faut, par exemple, veiller Ã  avoir une Ã©quipe responsable du partage de la connaissance et de la culture afin de ne pas diviser â€œpour mieux rÃ©gnerâ€ mais plutÃ´t de â€œrÃ©unir pour mieux rÃ©ussirâ€. Il est Ã©galement important dâ€™imaginer la mise en place de tests dâ€™intÃ©grations globaux au niveau du plus haut parent de la famille des composants.&lt;br /&gt;
(Imaginez une application dont chaque composant possÃ¨de sa propre charte graphique faÃ§on sapin de noÃ«l..)&lt;/p&gt;

&lt;p&gt;Une solution commune dite â€œCoreâ€ se matÃ©rialise par une Ã©quipe gÃ©rant le noyau du site, elle rÃ©git les librairies de bases, la crÃ©ation, la gestion des outils (e.g.. Eventbus), la charte graphique etc.&lt;br /&gt;
Les composants â€œenfantsâ€ hÃ©riteront de tout ce qui aura Ã©tÃ© prÃ©vu et partagÃ© par le noyau applicatif.&lt;/p&gt;

&lt;h5 id=&quot;--la-troisiÃ¨me--comment-bien-sÃ©quiper-pour-la-performance-&quot;&gt;- La troisiÃ¨me : comment bien sâ€™Ã©quiper pour la performance ?&lt;/h5&gt;

&lt;p&gt;Il faut distinguer deux aspects lorsque lâ€™on pense Ã  la qualitÃ© des MFE : la performance de chacun dâ€™entre eux mais Ã©galement du site global en termes dâ€™affichage et de rendu.
Avoir de multiples composants, câ€™est accepter dâ€™avoir un possible laps de temps au moment de la crÃ©ation/initialisation de chacun.&lt;br /&gt;
Il faut Ã©galement penser au dÃ©marrage et Ã  lâ€™intÃ©gration de nouveaux MFE dans lâ€™architecture globale, que ce soit en termes de cohÃ©rence, de qualitÃ© de code, de sÃ©curitÃ©, de chaÃ®ne dâ€™intÃ©gration et de dÃ©ploiement.&lt;br /&gt;
Pour Ã©viter cela, il faut mettre en relation des experts techniques (architectes, leader, etc.) capables de trouver des solutions performantes et de partager les bonnes pratiques Ã  tous ces diffÃ©rents niveaux.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Point dâ€™attention : le runtime&lt;/b&gt;&lt;br /&gt;
Plus il y a de frameworks, plus il y aura de runtimes et donc plus de risques que le poids de la page soit augmentÃ© et sa performance dÃ©gradÃ©e.&lt;br /&gt;
Il faudra limiter la diversitÃ© des frameworks utilisÃ©s.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/micro-front-end//image_2.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ce graphique montre la consommation en runtime pour chaque build avec le runtime Svelte. On dÃ©note quâ€™avec Ã  peine 10 composants on consomme moins quâ€™un Angular pour ne citer que lui.&lt;/p&gt;

&lt;h5 id=&quot;que-doit-on-retenir-&quot;&gt;Que doit-on retenir ?&lt;/h5&gt;

&lt;p&gt;Pour rÃ©sumer en un seul mot :  â€œCommuniquez !â€&lt;br /&gt;
Lâ€™indÃ©pendance apportÃ©e par les MFE peut desservir, chaque Ã©quipe faisant ses composants de maniÃ¨re â€œisolÃ©eâ€, si personne ne sâ€™assure de la cohÃ©rence globale cela peut rapidement devenir nÃ©faste.&lt;br /&gt;
Sans communication et gouvernance, la page finale peut vite se retrouver alourdie (du au fait dâ€™un ensemble de technologies mÃ©langÃ©es et de la multiplicitÃ© des frameworks utilisÃ©s) ou chartÃ©e de faÃ§on bien diffÃ©rente et donc perdre de la cohÃ©rence (notamment via le design).&lt;br /&gt;
Tous ces risques peuvent vite amener Ã  regretter les monolithes.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;SchÃ©ma dâ€™archi&lt;br /&gt;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Voici un exemple qui schÃ©matise une architecture micro front avec trois MFE.
Chaque composant est dÃ©veloppÃ© avec une techno diffÃ©rente (Vue, Angular, React) et gÃ©rÃ© par une Ã©quipe spÃ©cifique, possÃ©dant ses outils de CI/CD, de tests, etc.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/micro-front-end//image_3.jpg&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;framework-technos-et-outils&quot;&gt;Framework, technos et outils&lt;/h5&gt;

&lt;p&gt;Une pluralitÃ© de frameworks qui vont vous faciliter le dÃ©veloppement des micro frontend est disponible : chacun a sa propre philosophie dans la maniÃ¨re dâ€™aborder les concepts liÃ©s aux micro frontend.&lt;br /&gt;
Parmi les plus connus on peut citer Single-spa, Bit, Qiankun, Open components â€¦&lt;/p&gt;

&lt;h5 id=&quot;proscons&quot;&gt;Pros/Cons&lt;/h5&gt;
&lt;p&gt;De grandes entreprises ont choisi de se lancer dans les micro frontend, comme IKEA sur son magasin en ligne, Spotify avec son application desktop ou encore Leroy Merlin avec son site Web et Kobi.&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Pour chacune de ces applications, des bÃ©nÃ©fices se sont rapidement fait sentir, par exemple Ã  travers leur vie dans les diffÃ©rentes plateformes, Ã  travers lâ€™expÃ©rience de lâ€™utilisateur ou encore sur une meilleure rÃ©alisation des dÃ©veloppements grÃ¢ce Ã  des Ã©quipes plus rÃ©duite mais concentrÃ©es sur une seule feature.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Les avantages et inconvÃ©nients des MFE sont fortement liÃ©s.&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Le dÃ©coupage du code&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Pros&lt;/b&gt; : plus simple, plus lÃ©ger, câ€™est un vrai bonus de lisibilitÃ© et de maintenabilitÃ©.&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;Cons&lt;/b&gt; : mÃªme si la comprÃ©hension unitaire des composants est plus simple, la complexitÃ© globale de lâ€™application peut en revanche Ãªtre plus floue.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La libertÃ© des choix technologiques&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Pros&lt;/b&gt; : plus de technologies disponibles implique plus de possibilitÃ©s.&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;Cons&lt;/b&gt; : cela peut induire des problÃ¨mes de performances, de compatibilitÃ© voire de maintenabilitÃ©.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lâ€™indÃ©pendance et lâ€™autonomie des Ã©quipes&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Pros&lt;/b&gt; : cet aspect amÃ©liore les conditions et la qualitÃ© de dÃ©veloppement.&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;Cons&lt;/b&gt; : la relation inter-Ã©quipes ne doit pas Ãªtre nÃ©gligÃ©e. Le risque Ã©tant de sâ€™Ã©loigner de lâ€™objectif principal, dâ€™avoir des demandes de refontes (e.g : ne correspond pas Ã  lâ€™attente des composants consommateurs) et mÃªme des migrations dâ€™outils.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lâ€™indÃ©pendance des livraisons&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Pros&lt;/b&gt; : le choix des outils dâ€™intÃ©gration et de dÃ©ploiement continue est possible. Cela permet de livrer uniquement certaines parties de lâ€™application.&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;Cons&lt;/b&gt; : mais cela implique une gestion de la qualitÃ©, du release management ou software delivery global plus complexe Ã  mettre en place.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Il est nÃ©cessaire de mettre en place une gouvernance forte pour garantir une cohÃ©rence dans les choix pris lors du dÃ©veloppement des diffÃ©rents composants. (Objectif : assurer une qualitÃ© et maintenabilitÃ© globale).&lt;/p&gt;

&lt;p&gt;Links : https://www.infoq.com/news/2019/04/real-world-framework-benchmark/&lt;/p&gt;</content><author><name>[&quot;yohann_gueguin&quot;, &quot;florian_barbet&quot;, &quot;laurent_duchaussoy&quot;]</name></author><category term="Front-End" /><summary type="html">InspirÃ© par les architectures microservices Back-End, le principe du micro-front end se rÃ©sume en une agrÃ©gation de composants web Â« isolÃ©es Â». Voyez la page finale comme un puzzle oÃ¹ chaque morceau serait un composant MFE. Ces composants peuvent Ãªtre une barre de navigation, un bouton ou tout simplement un texte. Cette dÃ©coupe apporte en quelque sorte de la â€œlibertÃ©â€. Ce type dâ€™architecture permet de choisir son framework Front, dâ€™Ãªtre autonome sur sa livraison et de sÃ©parer les projets par Ã©quipes au lieu de travailler sur un monolith commun. Le but du MFE est de simplifier la gestion, la maintenabilitÃ©, la conception et le dÃ©coupage des interfaces utilisateurs. Garantir le bon fonctionnement de la page Web finale demandera de la rigueur et un travail commun. Il existe une multitude de faÃ§on de faire du micro-front end notamment en utilisant des technologies HTML (Iframe) ou un agrÃ©gateur en Back End (type Node Js, Java etc..)â€¦</summary></entry><entry><title type="html">Eco Conception</title><link href="/articles/green-it/eco-conception/" rel="alternate" type="text/html" title="Eco Conception" /><published>2022-02-02T01:00:00-06:00</published><updated>2022-02-02T01:00:00-06:00</updated><id>/articles/green-it/eco-conception</id><content type="html" xml:base="/articles/green-it/eco-conception/">&lt;p&gt;&lt;img src=&quot;/articles/green-it/eco-conception//image4.gif&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lâ€™Ã©co-design, lâ€™Ã©co-conception, le green it ou derniÃ¨rement &lt;code class=&quot;highlighter-rouge&quot;&gt;la conception responsable de service numÃ©rique&lt;/code&gt; sont des termes qui reprÃ©sentent, avant tout, le fait de rÃ©flÃ©chir Ã  lâ€™impact environnemental de son projet informatique et aux solutions pour le limiter ou le rÃ©duire.&lt;/p&gt;

&lt;p&gt;â€œApproche mÃ©thodique qui prend en considÃ©ration les aspects environnementaux du processus de conception et dÃ©veloppement dans le but de rÃ©duire les impacts environnementaux nÃ©gatifs tout au long du cycle de vie dâ€™un produitâ€ (Norme ISO14006 v2020)&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;p&gt;Que ce soit dans une dÃ©marche Ã©cologique engagÃ©e ou Ã  des fins de communication, le monde de lâ€™informatique nâ€™Ã©chappe pas Ã  cette problÃ©matique sociÃ©tale. Comme dans tous les domaines, lâ€™optimisation des ressources consommÃ©es se fait Ã  tous les niveaux et sur tous les pÃ©rimÃ¨tres dâ€™un projet informatique :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Conception fonctionnelle&lt;/li&gt;
  &lt;li&gt;Ergonomie&lt;/li&gt;
  &lt;li&gt;Conception technique&lt;/li&gt;
  &lt;li&gt;Conception graphique&lt;/li&gt;
  &lt;li&gt;DÃ©veloppement&lt;/li&gt;
  &lt;li&gt;HÃ©bergement&lt;/li&gt;
  &lt;li&gt;Contenu
â€¦&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Si certaines solutions paraissent Ã©videntes, comme lâ€™abonnement Ã  une Ã©nergie verte, dâ€™autres sont plus Ã©tonnantes, comme le fait de remplacer les boutons officiels de partage des rÃ©seaux sociaux.&lt;/p&gt;

&lt;p&gt;Cet article nâ€™a pas pour but de toutes les lister mais dâ€™aborder le lien entre solution numÃ©rique et consommation de ressources et de proposer un panel reprÃ©sentatif de la richesse du sujet. Le but nâ€™est pas de donner une leÃ§on ou de sauver  le monde.&lt;/p&gt;

&lt;h5 id=&quot;le-numÃ©rique-la-physique-avant-tout&quot;&gt;Le numÃ©rique, la physique avant tout.&lt;/h5&gt;

&lt;p&gt;En premier lieu, il convient de poser quelques notions pour comprendre comment des informations dÃ©matÃ©rialisÃ©es comme une page web, un email ou encore le visionnage dâ€™une vidÃ©o peut avoir un impact sur lâ€™environnement.&lt;/p&gt;

&lt;p&gt;Prenons lâ€™exemple dâ€™une page dâ€™un site e-commerce.&lt;/p&gt;

&lt;p&gt;Pour consulter cette page web, lâ€™internaute Ã  besoin dâ€™un ordinateur, dâ€™un smartphone ou dâ€™une tablette quâ€™il va renouveler en moyenne tous les 2 ans. Ce terminal est connectÃ© Ã  une box. La fabrication de ces appareils est coÃ»teuse en ressources environnementales puisque la production de leurs composants exige beaucoup dâ€™Ã©nergie, des traitements chimiques et des mÃ©taux rares.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/green-it/eco-conception//image3.gif&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;
&lt;a href=&quot;https://librairie.ademe.fr/cadic/2351/guide-pratique-face-cachee-numerique.pdf?modal=false&quot; target=&quot;_blank&quot;&gt;source&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ensuite (de faÃ§on simplifiÃ©e) pour afficher les Ã©lÃ©ments de la page web (des photos du produit, une description, des caractÃ©ristiques, une vidÃ©o explicative, des produits complÃ©mentairesâ€¦.) : on fait appel Ã  des informations stockÃ©es sur un serveur, celui-ci traitant la demande et renvoyant les Ã©lÃ©ments Ã  afficher en retour. Ces informations passent par un rÃ©seau de cÃ¢bles qui consomme de lâ€™Ã©nergie, sâ€™use, doit Ãªtre remplacÃ© ou changÃ© pour absorber la quantitÃ© de donnÃ©es toujours croissante.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/green-it/eco-conception//image2.gif&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Chacun de ces appels nÃ©cessite de lâ€™Ã©lectricitÃ©, dont la production est responsable dâ€™Ã©missions de gaz Ã  effet de serre. Plus il y a dâ€™Ã©lÃ©ments diffÃ©rents, plus ces Ã©lÃ©ments sont volumineux, plus lâ€™impact environnemental de cette page sera Ã©levÃ©.
Ces serveurs ont Ã©galement besoin dâ€™Ã©lectricitÃ© pour fonctionner, et comme ils gÃ©nÃ¨rent de la chaleur Ã  lâ€™usage, ils nÃ©cessitent des systÃ¨mes de refroidissement eux aussi coÃ»teux en Ã©lectricitÃ© pour fonctionner.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/green-it/eco-conception//image5.gif&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;
&lt;em&gt;ProblÃ©matique de refroidissement des datacenters - ferme de serveurs sous marin&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Le socle du numÃ©rique et ses impacts sur lâ€™environnement est en rÃ©alitÃ© physique !&lt;/p&gt;

&lt;p&gt;Sans oublier Ã©galement, le technicien qui se dÃ©place pour la maintenance et toutes les autres dÃ©pendances et impacts que cela gÃ©nÃ¨reâ€¦&lt;/p&gt;

&lt;h5 id=&quot;les-impacts-du-numÃ©rique-sur-lenvironnement-en-quelques-chiffres&quot;&gt;Les impacts du numÃ©rique sur lâ€™environnement en quelques chiffres:&lt;/h5&gt;

&lt;p&gt;Le rapport de GreenIT.fr rÃ©alisÃ© avec le soutien de lâ€™Institut du NumÃ©rique Responsable rÃ©alisÃ© en 2019 nous indique que le secteur du numÃ©rique reprÃ©sente 3,8% de lâ€™Ã©mission des gaz Ã  effet de serre au niveau mondial. La plus grande source dâ€™impact environnemental du numÃ©rique est liÃ©e aux Ã©quipements des utilisateurs qui reprÃ©sentent 39% des Ã©missions de gaz Ã  effet de serre, 74% de la consommation dâ€™eau et 76% de contribution Ã  lâ€™Ã©puisement des ressources.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/green-it/eco-conception//image1.gif&quot; alt=&quot;image&quot; /&gt;&lt;br /&gt;
&lt;em&gt;Ã©volution de lâ€™empreinte environnementale de 2010 a 2025  (&lt;a href=&quot;https://www.greenit.fr/wp-content/uploads/2019/10/2019-10-GREENIT-etude_EENM-rapport-accessible.VF_.pdf&quot; target=&quot;_blank&quot;&gt;source&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;

&lt;h5 id=&quot;economie-dÃ©chelle&quot;&gt;Economie dâ€™Ã©chelle&lt;/h5&gt;

&lt;p&gt;Il nous paraÃ®t important dâ€™expliquer le principe dâ€™Ã©conomie dâ€™Ã©chelle avant de sâ€™intÃ©resser aux optimisations concrÃ¨tes.&lt;br /&gt;
Pourquoi ? Pour Ã©viter le linchage populaire lorsque vous lirez quâ€™utiliser une simple quote au lieu dâ€™une double fait consommer moins.&lt;/p&gt;

&lt;p&gt;Lâ€™Ã©conomie dâ€™Ã©chelle correspond traditionnellement Ã  la baisse dâ€™un coÃ»t unitaire de production qui rapportÃ© Ã  une augmentation de la quantitÃ© produite entraÃ®ne une Ã©conomie importante.&lt;br /&gt;
Vous retirez une frite de chaque repas vendu en france par mcdo (1 800 000 /jour) et vous Ã©conomisez de la pomme de terre Ã  la fin de lâ€™annÃ©e !&lt;/p&gt;

&lt;p&gt;RapportÃ© Ã  notre sujet, il sâ€™agit de diminuer la ressource consommÃ©e par chacun de vos utilisateurs pour finalement Ã©conomiser une grande quantitÃ© dâ€™Ã©nergie. Et quand on sâ€™appelle Google, par exemple, la mise en place du dark mode entraÃ®ne des Ã©conomies consÃ©quentes.&lt;/p&gt;

&lt;h5 id=&quot;en-pratique&quot;&gt;En pratique&lt;/h5&gt;

&lt;p&gt;En pratique, il est possible dâ€™agir Ã  tous les niveaux de crÃ©ation et de vie dâ€™un produit informatique : depuis sa conception fonctionnelle, graphique ou technique jusquâ€™Ã  sa rÃ©alisation et sa mise en Å“uvre.&lt;/p&gt;

&lt;p&gt;Il nâ€™est pas question ici de vous fournir une liste exhaustive dâ€™actions Ã  mettre en place mais plutÃ´t dâ€™Ã©voquer quelques problÃ©matiques pour dÃ©couvrir le sujet ou sâ€™y sensibiliser.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;CompatibilitÃ© des sites web aux diffÃ©rents appareils et navigateurs&lt;/b&gt;&lt;br /&gt;
Au vu du rÃ´le des Ã©quipements dâ€™affichage dans lâ€™impact du numÃ©rique sur lâ€™environnement, il est primordial aujourdâ€™hui de concevoir les sites web de faÃ§on responsive. Cela va permettre Ã  nâ€™importe quel utilisateur de lâ€™utiliser de faÃ§on optimale sans avoir besoin dâ€™un appareil en particulier. Cela permet Ã©galement de limiter le poids des pages (par exemple sur la taille des images) en fonction du terminal utilisÃ©. 
La compatibilitÃ© vers les anciens navigateurs est Ã©galement Ã  prendre en compte pour minimiser les changements dâ€™Ã©quipement.
Les Ã©ventuels surcoÃ»ts de dÃ©veloppement sont ici rattrapÃ©s par lâ€™audience touchÃ©e et le confort de lâ€™expÃ©rience utilisateur qui sera bÃ©nÃ©fique Ã  la conversion et donc au business.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;SobriÃ©tÃ© du design et du contenu&lt;/b&gt;&lt;br /&gt;
Lorsque lâ€™on se lance dans un projet quâ€™il soit professionnel ou personnel, on souhaite tous quâ€™il soit unique. Mais attention, Ã  vouloir trop personnaliser on sort souvent des standards ce qui entraÃ®ne des chargements supplÃ©mentaires. Il est important de prendre en compte lâ€™impact dâ€™une police originale, dâ€™une photo trÃ¨s haute dÃ©finition ou dâ€™Ã©lÃ©ments graphiques minutieux pour dÃ©cider si lâ€™apport au niveau UX reste intÃ©ressant.&lt;/p&gt;

&lt;p&gt;Un site web Ã©co-conÃ§u est un site sobre au design Ã©purÃ©, sans forcÃ©ment le dÃ©pouiller : il sâ€™agit de respecter les besoins et les contraintes tout en supprimant le superflu.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;SobriÃ©tÃ© des fonctionnalitÃ©s&lt;/b&gt;&lt;br /&gt;
Dans une sociÃ©tÃ© dâ€™abondance, les produits numÃ©riques ne font pas exception Ã  la rÃ¨gle. Combien de fonctionnalitÃ©s utilisez-vous rÃ©ellement sur vos applications?
Il arrive vite que lâ€™on empile les nouvelles fonctionnalitÃ©s en se rÃ©jouissant de voir notre projet grandir et sâ€™Ã©toffer, avec lâ€™impression dâ€™offrir aux utilisateurs une expÃ©rience riche. Mais encore une fois lâ€™Ã©co conception fait rÃ©flÃ©chir sur lâ€™utile et le superflu. Il est important de connaÃ®tre le parcours de ses utilisateurs et de retirer les fonctionnalitÃ©s non utilisÃ©es pour un gain dâ€™Ã©nergie, de performance mais aussi de lisibilitÃ©.&lt;/p&gt;

&lt;p&gt;Diversifier son offre est intÃ©ressant mais gardez en tÃªte de rÃ©pondre aux besoins pour lesquels vos utilisateurs vous ont contactÃ©.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Sâ€™arrÃªter Ã  temps: le mieux est lâ€™ennemi du bien&lt;/b&gt;
Lâ€™un des aspects les plus compliquÃ© Ã  gÃ©rer est de savoir se limiter dans lâ€™optimisation.
Lâ€™instantanÃ©itÃ© par exemple : elle nâ€™est parfois pas utile et repasser sur des traitements asynchrone rÃ©pondra amplement Ã  vos besoins tout en diminuant le nombre dâ€™Ã©changes dans votre SI.&lt;/p&gt;

&lt;p&gt;Une saisie assistÃ©e peut accompagner parfaitement votre utilisateur sans aller jusquâ€™Ã  faire de lâ€™autocomplÃ©tion systÃ©matique dÃ¨s 3 caractÃ¨res saisis.&lt;/p&gt;

&lt;p&gt;Une redirection simple vers les rÃ©seaux sociaux est souvent suffisante et beaucoup moins consommatrice que les boutons natifs proposÃ©s par ces plateformes qui gÃ©nÃ¨rent de nombreux appels.&lt;/p&gt;

&lt;h5 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h5&gt;

&lt;p&gt;Il existe une multitude dâ€™actions possibles pour limiter lâ€™impact des produits numÃ©riques. Nous pourrions passer des heures Ã  dÃ©crire comment rÃ©duire la consommation dâ€™Ã©nergie en passant sur du dark mode, ou en modifiant les CSS pour optimiser lâ€™aspect dâ€™une page pour lâ€™impression par exemple.&lt;br /&gt;
Le but de cet article Ã©tait plutÃ´t de sensibiliser au sujet, dâ€™exposer la richesse des options possibles pour limiter lâ€™impact environnemental de son produit en intÃ©grant lâ€™Ã©coconception au sein du processus crÃ©atif.&lt;/p&gt;

&lt;p&gt;Selon la nature du produit, Ã©normÃ©ment de choses peuvent Ãªtre faites, tout dÃ©pend de votre contexteâ€¦Si le sujet vous intÃ©resse et que vous avez envie dâ€™aller plus loin, voici quelques liens utiles et notamment une liste des bonnes pratiques.&lt;/p&gt;

&lt;h5 id=&quot;pour-aller-aller-plus-loin&quot;&gt;Pour aller aller plus loin&lt;/h5&gt;

&lt;p&gt;liste de bonnes pratiques:&lt;br /&gt;
&lt;a href=&quot;https://collectif.greenit.fr/ecoconception-web/115-bonnes-pratiques-eco-conception_web.htm&quot;&gt;https://collectif.greenit.fr/ecoconception-web/115-bonnes-pratiques-eco-conception_web.htm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Liste dâ€™outils utiles pour mesurer son impact:&lt;br /&gt;
&lt;a href=&quot;https://institutnr.org/outils-ecoconception-accessibilite&quot;&gt;https://institutnr.org/outils-ecoconception-accessibilite&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Rapport mondial sur lâ€™impact du numÃ©rique en 2019: &lt;br /&gt;
&lt;a href=&quot;https://www.greenit.fr/wp-content/uploads/2019/10/2019-10-GREENIT-etude_EENM-rapport-accessible.VF_.pdf&quot;&gt;https://www.greenit.fr/wp-content/uploads/2019/10/2019-10-GREENIT-etude_EENM-rapport-accessible.VF_.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Impact du numÃ©rique en France : &lt;br /&gt;
&lt;a href=&quot;https://www.greenit.fr/wp-content/uploads/2021/02/2021-01-iNum-etude-impacts-numerique-France-rapport-0.8.pdf&quot;&gt;https://www.greenit.fr/wp-content/uploads/2021/02/2021-01-iNum-etude-impacts-numerique-France-rapport-0.8.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SobriÃ©tÃ© numÃ©rique, consommation usage et production: &lt;br /&gt;
&lt;a href=&quot;https://theshiftproject.org/wp-content/uploads/2020/10/Deployer-la-sobriete-numerique_Rapport-complet_ShiftProject.pdf&quot;&gt;https://theshiftproject.org/wp-content/uploads/2020/10/Deployer-la-sobriete-numerique_Rapport-complet_ShiftProject.pdf&lt;/a&gt;
&lt;a href=&quot;https://medium.com/codeshake/%C3%A9coconception-8-cas-pratiques-dapplication-14032c72e8f6&quot;&gt;https://medium.com/codeshake/%C3%A9coconception-8-cas-pratiques-dapplication-14032c72e8f6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ecoresponsable.numerique.gouv.fr/publications/guide-pratique-achats-numeriques-responsables/demarche-numerique-responsable/analyse-cycle-de-vie/#:~:text=L'analyse%20du%20cycle%20de,de%20services%20sur%20l'environnement&quot;&gt;https://ecoresponsable.numerique.gouv.fr/publications/guide-pratique-achats-numeriques-responsables/demarche-numerique-responsable/analyse-cycle-de-vie/#:~:text=L'analyse%20du%20cycle%20de,de%20services%20sur%20l'environnement&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;rÃ©fÃ©rences-&quot;&gt;RÃ©fÃ©rences :&lt;/h5&gt;
&lt;p&gt;&lt;a href=&quot;https://librairie.ademe.fr/cadic/2351/guide-pratique-face-cachee-numerique.pdf?modal=false&quot;&gt;https://librairie.ademe.fr/cadic/2351/guide-pratique-face-cachee-numerique.pdf?modal=false&lt;/a&gt;
&lt;a href=&quot;https://www.eco-conception.fr/static/definition-de-leco-conception.html&quot;&gt;https://www.eco-conception.fr/static/definition-de-leco-conception.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://librairie.ademe.fr/cadic/2351/guide-pratique-face-cachee-numerique.pdf?modal=false&quot;&gt;https://librairie.ademe.fr/cadic/2351/guide-pratique-face-cachee-numerique.pdf?modal=false&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Impact du dark mode:&lt;br /&gt;
&lt;a href=&quot;https://www.cnetfrance.fr/news/android-google-confirme-que-le-mode-sombre-ameliore-l-autonomie-39876317.htm&quot;&gt;https://www.cnetfrance.fr/news/android-google-confirme-que-le-mode-sombre-ameliore-l-autonomie-39876317.htm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://hitek.fr/actualite/le-compte-est-bon-mario-macdonalds_4002&quot;&gt;https://hitek.fr/actualite/le-compte-est-bon-mario-macdonalds_4002&lt;/a&gt;&lt;/p&gt;</content><author><name>[&quot;pauline_vandame&quot;, &quot;romain_vermeeren&quot;, &quot;mehdi_kheir&quot;]</name></author><category term="Green-IT" /><summary type="html">Lâ€™Ã©co-design, lâ€™Ã©co-conception, le green it ou derniÃ¨rement la conception responsable de service numÃ©rique sont des termes qui reprÃ©sentent, avant tout, le fait de rÃ©flÃ©chir Ã  lâ€™impact environnemental de son projet informatique et aux solutions pour le limiter ou le rÃ©duire. â€œApproche mÃ©thodique qui prend en considÃ©ration les aspects environnementaux du processus de conception et dÃ©veloppement dans le but de rÃ©duire les impacts environnementaux nÃ©gatifs tout au long du cycle de vie dâ€™un produitâ€ (Norme ISO14006 v2020)</summary></entry><entry><title type="html">Mutation testing</title><link href="/articles/testing/mutation-testing/" rel="alternate" type="text/html" title="Mutation testing" /><published>2021-10-27T02:00:00-05:00</published><updated>2021-10-27T02:00:00-05:00</updated><id>/articles/testing/mutation-testing</id><content type="html" xml:base="/articles/testing/mutation-testing/">&lt;p&gt;Le mutation testing a Ã©tÃ© inventÃ© en 1971 par Richard Lipton.
Sa rÃ©flexion est venue suite Ã  des expÃ©riences de projets oÃ¹ les programmeurs devaient consacrer le moins de temps possible aux tests.
Le programmeur devait se contenter de tester intelligemment Ã  moindre coÃ»t.
Pour lui, lâ€™avantage des programmeurs est quâ€™ils crÃ©ent des programmes qui sont presque corrects.
Les erreurs sont principalement dues Ã  des actions inappropriÃ©es ou manquantes dans les spÃ©cifications. 
Ces erreurs devraient Ãªtre dÃ©tectables comme des dÃ©viations du programme prÃ©vu dâ€™oÃ¹ le mutation testing.&lt;/p&gt;

&lt;p&gt;Cette technique a pour but dâ€™Ã©valuer lâ€™efficacitÃ© des tests unitaires des applications.&lt;/p&gt;

&lt;p&gt;Son expansion a, en grande partie, Ã©tÃ© restreinte Ã  cause de la lourdeur du processus,
mais lâ€™augmentation de la puissance des machines permet de rendre le â€œmutation testingâ€ plus accessible.&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;h2 id=&quot;concept&quot;&gt;Concept&lt;/h2&gt;

&lt;p&gt;Dans la plupart des projets actuels, les Ã©quipes mettent un taux minimal arbitraire de couverture du code Ã  70 ou 80% (en fonction de la maturitÃ© des Ã©quipes).&lt;/p&gt;

&lt;p&gt;Cet indicateur ne veut pas dire que le code a Ã©tÃ© testÃ© Ã  70 ou 80% et mÃªme une couverture de code Ã  100% nâ€™exclut pas de trouver un bug mÃªme si cela peut apporter une illusion de sÃ©curitÃ© : qui nâ€™a jamais vu un test avec un assert(true).&lt;/p&gt;

&lt;p&gt;En parallÃ¨le, dans les projets informatiques, plus un bug est dÃ©couvert tard, plus il coÃ»te cher, le mutation testing peut aider Ã  rÃ©duire ces coÃ»ts.&lt;/p&gt;

&lt;p&gt;Le concept du mutation testing est lÃ  pour venir modifier le code â€œmÃ©tierâ€ et ainsi vÃ©rifier si les tests unitaires arrivent Ã  dÃ©tecter les changements.&lt;/p&gt;

&lt;p&gt;Les objectifs du mutation testing sont multiples :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Identifier des tests qui ne dÃ©tectent pas les changements&lt;/li&gt;
  &lt;li&gt;Avoir un score de mutation&lt;/li&gt;
  &lt;li&gt;Apprendre et analyser lâ€™Ã©tat dâ€™infection dâ€™une application.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;vocabulaire-du-mutation-testing&quot;&gt;Vocabulaire du mutation testing&lt;/h2&gt;

&lt;p&gt;Les tests unitaires sont une composante du mutation testing. 
Le test unitaire correspond Ã  la vÃ©rification dâ€™un bon comportement dâ€™une petite partie dâ€™une application.&lt;/p&gt;

&lt;p&gt;Une mutation est, quant Ã  elle, une modification du code source, comme par exemple, lâ€™action de remplacer un opÃ©rateur par un autre, voici quelques exemples :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;passer de + Ã   -&lt;/li&gt;
  &lt;li&gt;passer de &amp;gt;= Ã   ==&lt;/li&gt;
  &lt;li&gt;passer de true Ã  false&lt;/li&gt;
  &lt;li&gt;supprimer une instruction&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Un mutant est le code source modifiÃ© par une mutation&lt;/p&gt;

&lt;h2 id=&quot;principe-de-mutation&quot;&gt;Principe de mutation&lt;/h2&gt;

&lt;p&gt;Le principe de mutation se base sur un code â€œmÃ©tierâ€ sur lequel on souhaite tester la pertinence des tests unitaires.&lt;/p&gt;

&lt;p&gt;Exemple de mutations possibles et de code mÃ©tier associÃ©s&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; â†’ &lt;code class=&quot;highlighter-rouge&quot;&gt;-&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-&lt;/code&gt; â†’ &lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;!=&lt;/code&gt; â†’ &lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt; â†’ &lt;code class=&quot;highlighter-rouge&quot;&gt;!=&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt; â†’ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;gt;=&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La phase de gÃ©nÃ©ration consiste Ã  parcourir le code mÃ©tier et Ã  dÃ©terminer les mutations possibles. DÃ¨s quâ€™une mutation est applicable alors elle gÃ©nÃ©rera un nouveau â€œmutantâ€.&lt;/p&gt;

&lt;p&gt;Le processus de gÃ©nÃ©ration des mutants peut Ãªtre gourmand en ressources car le nombre de mutants peut varier en fonction de la complexitÃ© du code mÃ©tier (il y a quelques annÃ©es câ€™Ã©tait encore un frein Ã  lâ€™utilisation de ce concept). 
Il existe des frameworks permettant de gÃ©nÃ©rer des mutants de faÃ§on â€œautomatiqueâ€ tel que Pitest pour Java.&lt;/p&gt;

&lt;p&gt;Voici par exemple une simple classe qui rÃ©alise une addition:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;com.business&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Add&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Et voici deux mutants possibles:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;com.business&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AddMutation1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;com.business&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AddMutation2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;processus-de-tests&quot;&gt;Processus de tests&lt;/h2&gt;

&lt;p&gt;En reprenant lâ€™exemple prÃ©cÃ©dent, nous avons une classe qui a pour but de faire lâ€™addition de deux nombres. Pitest a Ã©tÃ© utilisÃ© pour le projet.
Pour lâ€™exercice, nous allons voir plusieurs cas.&lt;/p&gt;

&lt;h3 id=&quot;cas-1--absence-de-test-unitaire&quot;&gt;Cas 1 : absence de test unitaire&lt;/h3&gt;

&lt;p&gt;Le but de ce test est de voir comment le mutation testing peut aider un projet sans test unitaire mÃªme si cela peut paraÃ®tre une hÃ©rÃ©sieâ€¦ câ€™est possibleâ€¦&lt;/p&gt;

&lt;p&gt;Voici le rÃ©sultat de Pitest sur notre classe :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-result-no-tests.png&quot; alt=&quot;un rapport PiTest en l'absence de tests unitaires&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pitest a crÃ©Ã© deux mutants (mis en exemple prÃ©cÃ©demment) qui sont toujours en vie Ã  la fin du test. Voici le dÃ©tail des mutations qui ont Ã©tÃ© effectuÃ©es :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-mutations.png&quot; alt=&quot;les mutations faites par Pitest sur notre classse&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;cas-2--ajout-dun-test-unitaire&quot;&gt;Cas 2 : ajout dâ€™un test unitaire&lt;/h3&gt;

&lt;p&gt;Pour lâ€™exemple, nous avons un test unitaire qui ne couvre pas entiÃ¨rement la mÃ©thode testÃ©e.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testAddPositive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Add&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myAddTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myAddTest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a et b sont positifs, le rÃ©sultat attendu devrait Ãªtre positif&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Le rÃ©sultat du mutation testing est le suivant :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-result-first-test.png&quot; alt=&quot;le rÃ©sultat de pitest avec notre premier test&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Le mutation testing rÃ©vÃ¨le que les tests unitaires ne sont pas suffisamment costaud. Il faut les renforcer.&lt;/p&gt;

&lt;p&gt;Le mutant encore debout est :&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;com.business&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AddMutation2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pour cela, il faut analyser le rapport que Pitest donne et appliquer un correctif sur le test unitaire pour tuer le mutant au prochain lancement de Pitest.&lt;/p&gt;

&lt;h2 id=&quot;cas-3--renforcement-du-test-unitaire&quot;&gt;Cas 3 : renforcement du test unitaire&lt;/h2&gt;

&lt;p&gt;Suite au renfort du test unitaire, Pitest indique que les tests sont bons et que tous les mutants ont Ã©tÃ© tuÃ©s.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testAddResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Add&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myAddTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expectedResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myAddTest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expectedResult&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;aLe rÃ©sultat est diffÃ©rent&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-result-test-renforce.png&quot; alt=&quot;Le rÃ©sultat de pitest avec le test renforcÃ©&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sur un code court et trÃ¨s simple, Pitest a mis moins de 3s (en moyenne) pour gÃ©nÃ©rer des mutants et tester ces derniers.
Il a permis de remonter des faiblesses dans les tests unitaires.
Le travail dâ€™analyse sur les mutants encore en vie est assez simple pour ce cas.&lt;/p&gt;

&lt;p&gt;Afin de connaÃ®tre les limites du mutation testing nous allons lâ€™utiliser sur du code plus complexe.&lt;/p&gt;

&lt;p&gt;SchÃ©ma dâ€™explication du framework :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./fonctionnement-fwk.jpg&quot; alt=&quot;Le fonctionnement du framework&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;exemple-avec-le-pÃ©rimÃ¨tre-dun-rectangle&quot;&gt;Exemple avec le pÃ©rimÃ¨tre dâ€™un rectangle&lt;/h2&gt;

&lt;p&gt;Le but de ce programme est de calculer lâ€™aire dâ€™un rectangle.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;calcRectangleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On peut vÃ©rifier avec un test si lâ€™aire du rectangle nâ€™est pas Ã©gale Ã  0.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testRectangleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;calcRectangleeArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;L'aire doit Ãªtre supÃ©rieure Ã  0&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On pourrait ajouter une rÃ¨gle de gestion Ã  notre premier code, avec une interprÃ©tation supplÃ©mentaire : â€œUn carrÃ© nâ€™est pas un rectangleâ€.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;calcRectangleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// on retourne 0 pour les carrÃ©s&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Suite au changement de code un test est ajoutÃ© afin de tester un carrÃ© dont les cÃ´tÃ©s valent 0.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;testSquareArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RectangleArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;calcRectangleeArea&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0 attendu, car nous sommes dans un carrÃ©&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dans les deux cas, Pitest remonte une couverture sur le mutation testing de 0%.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-result-square.png&quot; alt=&quot;RÃ©sultat de Pitest&quot; /&gt;
&lt;img src=&quot;/articles/testing/mutation-testing//./pitest-result-square-detailed.png&quot; alt=&quot;RÃ©sultat Pitest dÃ©tailllÃ©&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Voici les mutants survivants crÃ©Ã©s par Pitest. 
Il faut donc analyser les problÃ¨mes et renforcer les tests unitaires. 
Lâ€™analyse en fonction des rÃ©sultats peut prendre du temps.&lt;/p&gt;

&lt;h2 id=&quot;exemple-avec-une-application-plus-complexe&quot;&gt;Exemple avec une application plus complexe&lt;/h2&gt;

&lt;h3 id=&quot;spring-petclinic&quot;&gt;Spring PetClinic&lt;/h3&gt;

&lt;p&gt;Spring PetClinic est une application exemple proposÃ©e par Spring. Elle montre les principales fonctionnalitÃ©s du framework. Câ€™est une application simple qui compte environ 250 lignes de code.&lt;/p&gt;

&lt;p&gt;Elle propose des tests JUnit 5 avec quelques tests unitaires mais surtout des tests dâ€™intÃ©gration, dont certains avec des mocks. Au total une quarantaine de tests et une couverture de 93%&lt;/p&gt;

&lt;p&gt;Lâ€™exÃ©cution de lâ€™ensemble des tests prend environ dix secondes dans un IDE.
La commande &lt;code class=&quot;highlighter-rouge&quot;&gt;mvn test&lt;/code&gt; sâ€™exÃ©cute approximativement en 20 secondes.&lt;/p&gt;

&lt;p&gt;On peut exÃ©cuter pitest sur un projet Maven en tapant directement la commande : &lt;code class=&quot;highlighter-rouge&quot;&gt;mvn org.pitest:pitest-maven:mutationCoverage&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;================================================================================
- Statistics
================================================================================
&amp;gt;&amp;gt; Line Coverage: 222/238 (93%)
&amp;gt;&amp;gt; Generated 111 mutations Killed 74 (67%)
&amp;gt;&amp;gt; Mutations with no coverage 8. Test strength 72%
&amp;gt;&amp;gt; Ran 235 tests (2.12 tests per mutation)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Le temps dâ€™exÃ©cution est dâ€™un peu plus de 2 minutes.&lt;/p&gt;

&lt;h2 id=&quot;quels-indicateurs-fournit-le-mutation-testing-&quot;&gt;Quels indicateurs fournit le mutation testing ?&lt;/h2&gt;

&lt;p&gt;Pitest calcule un taux de force des tests (Test strength) par rapport au mutation testing.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt;&amp;gt; Mutations with no coverage 8. Test strength 72%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ce taux peut Ãªtre utilisÃ© avec le % de couverture de code dans les Ã©quipes comme indicateur de qualitÃ© sur les premiers niveaux de tests.&lt;/p&gt;

&lt;h2 id=&quot;implÃ©mentations-possibles-sur-diffÃ©rents-langages&quot;&gt;ImplÃ©mentations possibles sur diffÃ©rents langages&lt;/h2&gt;

&lt;p&gt;Il existe diffÃ©rents outils pour faire du mutation testing selon les langages :&lt;/p&gt;

&lt;p&gt;Java â†’ Pitest&lt;/p&gt;

&lt;p&gt;Kotlin â†’ Pitest&lt;/p&gt;

&lt;p&gt;Scala â†’ Stryker&lt;/p&gt;

&lt;p&gt;PHP â†’ Infection&lt;/p&gt;

&lt;p&gt;JS â†’ Stryker&lt;/p&gt;

&lt;p&gt;TypeScript â†’ Stryker&lt;/p&gt;

&lt;p&gt;Python â†’ MutPy&lt;/p&gt;

&lt;h2 id=&quot;oÃ¹-situer-le-mutation-testing-dans-les-mÃ©thodes-bdd-et-tdd-&quot;&gt;OÃ¹ situer le mutation testing dans les mÃ©thodes BDD et TDD ?&lt;/h2&gt;

&lt;p&gt;Le Mutation testing est un complÃ©ment Ã  ces mÃ©thodes, il permet de couvrir lâ€™ensemble des tests unitaires et du code en apportant des modifications.&lt;/p&gt;

&lt;p&gt;Le TDD aide Ã  garder le code modulaire cependant il ne suffit pas Ã  fournir un code qui fonctionne exactement comme prÃ©vu car il est toujours possible dâ€™ajouter du code Ã  une partie de lâ€™application sans en dÃ©crire les attentes. Ceci peut mettre en danger lâ€™ensemble du code. Le mutation testing permet de dÃ©tecter de faÃ§on rÃ©guliÃ¨re les possibles â€œbrÃ¨chesâ€ dans le dÃ©veloppement.&lt;/p&gt;

&lt;p&gt;Le BDD, quant Ã  lui, est lÃ  pour dÃ©crire le comportement que doit avoir une application. Le mutation testing lui va sâ€™assurer du bon fonctionnement dâ€™une fonction et non du comportement global.&lt;/p&gt;

&lt;h2 id=&quot;limites-sur-le-mutation-testing&quot;&gt;Limites sur le mutation testing&lt;/h2&gt;

&lt;p&gt;Lâ€™une des premiÃ¨res limites du mutation testing portait sur lâ€™impact quâ€™il avait sur les ressources dâ€™un ordinateur (CPU/RAM). Cette limite est de moins en moins vrai aujourdâ€™hui.&lt;/p&gt;

&lt;p&gt;La seconde limite reste le temps dâ€™analyse quâ€™il y a aprÃ¨s un rapport de test de mutation testing. Il faut analyser le rapport, puis corriger le test unitaire et ensuite relancer le test de mutation.
Dans cette analyse on peut se retrouver avec des faux positifs ce qui peut constituer une â€œperte de tempsâ€.&lt;/p&gt;

&lt;p&gt;La troisiÃ¨me limite est une tendance de plus en plus prÃ©sente de nos jours : celle du Green IT.
Le Green IT est une dÃ©marche dâ€™amÃ©lioration continue qui vise Ã  rÃ©duire lâ€™empreinte Ã©cologique, Ã©conomique et sociale des technologies de lâ€™information et de la communication et de lâ€™organisation grÃ¢ce aux outils numÃ©riques. Le mutation testing est trÃ¨s gourmand en termes de ressources CPU et RAM vu quâ€™il lit le projet, crÃ©e des mutants Ã  partir du code source, recompile et rejoue les tests autant de fois quâ€™il y a de mutants disponibles.&lt;/p&gt;

&lt;p&gt;En conclusion, le mutation testing est un outil qui aide les Ã©quipes Ã  amÃ©liorer la qualitÃ© de leurs tests unitaires. Cependant cette mÃ©thode peut se rÃ©vÃ©ler trÃ¨s coÃ»teuse si on souhaite une couverture Ã  100%. 
Il faut prendre en compte le temps dâ€™analyse du rapport et du code Ã  la gÃ©nÃ©ration des mutants et Ã  lâ€™exÃ©cution des tests pour chaque mutant. 
Cet outil doit Ãªtre utilisÃ© dans des Ã©quipes qui sont dÃ©jÃ  â€œmaturesâ€ sur la qualitÃ© de leur tests. Il peut aider les nouveaux dÃ©veloppeurs Ã  structurer leur faÃ§on de construire les TU.
De plus, il est possible dâ€™utiliser cet outil pour cibler uniquement des parties bien prÃ©cises de lâ€™application, notamment les parties les plus sensibles, cela peut Ãªtre un bon moyen de rÃ©duire les coÃ»ts et de se concentrer sur le plus critique.&lt;/p&gt;

&lt;h2 id=&quot;quelques-axes-de-rÃ©flexion-pour-aller-plus-loin-sur-ce-sujet&quot;&gt;Quelques axes de rÃ©flexion pour aller plus loin sur ce sujet&lt;/h2&gt;
&lt;p&gt;Comment intÃ©grer le mutation testing dans une stratÃ©gie de test ?
Comment automatiser les tests de mutation testing avec github lors dâ€™une peer review par exemple ?
Peut-on automatiser la lecture des rapports et en ressortir les problÃ¨mes les plus critiques ?&lt;/p&gt;

&lt;h2 id=&quot;ressources--bibliographie-&quot;&gt;Ressources / Bibliographie :&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Papier de Google : &lt;a href=&quot;https://research.google/pubs/pub46584/&quot;&gt;State of Mutation Testing at Google (PDF)&lt;/a&gt;. Ce papier dÃ©crit comment Google utilise les tests de mutation dans le process de code review, pour maximiser la pertinence des mutants :
    &lt;ul&gt;
      &lt;li&gt;une mutation max par ligne de code Ã©tudiÃ©e (pour limiter la complexitÃ© de la review)&lt;/li&gt;
      &lt;li&gt;le code â€œarideâ€ nâ€™est pas mutÃ© (caches, System.out.println, code de logging =&amp;gt; if debug, log.debug() ))&lt;/li&gt;
      &lt;li&gt;les mutations qui rendraient le code Ã©quivalent (supprimer un cache/memoization, for i &amp;lt; 10 ou for i != 10) ne sont pas testÃ©es&lt;/li&gt;
      &lt;li&gt;ils ne testent pas non plus les mutations sur le code qui pourrait Ãªtre gÃ©nÃ©rÃ© (equals/hashCode/toString) et les messages dâ€™exceptions&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://blog.pitest.org/&quot;&gt;Blog de PiTest&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://pitest.org/&quot;&gt;Site de PiTest&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/theofidry/awesome-mutation-testing&quot;&gt;awesome mutation testing&lt;/a&gt; : Une compilation des meilleures ressources sur le mutation testing&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Hints on Test Data Selection: Help for the Practicing Programmer, de Richard A. Demillo et R.J Lipton&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;yoann_bouquet&quot;]</name></author><category term="Testing" /><summary type="html">Le mutation testing a Ã©tÃ© inventÃ© en 1971 par Richard Lipton. Sa rÃ©flexion est venue suite Ã  des expÃ©riences de projets oÃ¹ les programmeurs devaient consacrer le moins de temps possible aux tests. Le programmeur devait se contenter de tester intelligemment Ã  moindre coÃ»t. Pour lui, lâ€™avantage des programmeurs est quâ€™ils crÃ©ent des programmes qui sont presque corrects. Les erreurs sont principalement dues Ã  des actions inappropriÃ©es ou manquantes dans les spÃ©cifications. Ces erreurs devraient Ãªtre dÃ©tectables comme des dÃ©viations du programme prÃ©vu dâ€™oÃ¹ le mutation testing. Cette technique a pour but dâ€™Ã©valuer lâ€™efficacitÃ© des tests unitaires des applications. Son expansion a, en grande partie, Ã©tÃ© restreinte Ã  cause de la lourdeur du processus, mais lâ€™augmentation de la puissance des machines permet de rendre le â€œmutation testingâ€ plus accessible.</summary></entry><entry><title type="html">PWA : Innovation ou solution de consolation ?</title><link href="/articles/front-end/pwa-innovation-or-consolation/" rel="alternate" type="text/html" title="PWA : Innovation ou solution de consolation ?" /><published>2021-09-29T02:00:00-05:00</published><updated>2021-09-29T02:00:00-05:00</updated><id>/articles/front-end/pwa-innovation-or-consolation</id><content type="html" xml:base="/articles/front-end/pwa-innovation-or-consolation/">&lt;p&gt;&lt;img src=&quot;/articles/front-end/pwa-innovation-or-consolation//pwa-dbz-img.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Le terme PWA est entrÃ© depuis quelques annÃ©es dans le long rÃ©pertoire des acronymes liÃ©s au numÃ©rique.
Mais quâ€™est ce quâ€™une &lt;code class=&quot;highlighter-rouge&quot;&gt;Progressive Web App&lt;/code&gt; ?&lt;/p&gt;

&lt;p&gt;Pour certains câ€™est la promesse dâ€™une expÃ©rience mobile responsive boostÃ©e par les fonctionnalitÃ©s de votre tÃ©lÃ©phone. Elle serait facile Ã  mettre en place, de faible coÃ»t et elle nâ€™aurait plus rien Ã  envier aux applications natives.&lt;/p&gt;

&lt;p&gt;Afin de vous Ã©clairer sur le sujet et de vous permettre de vous faire votre propre avis, vous trouverez ici les informations qui nous paraissent pertinentes pour une premiÃ¨re approche fonctionnelle du sujet.&lt;/p&gt;

&lt;!--END_SUMMARY--&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/pwa-innovation-or-consolation//pwa-logo.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;mais-doÃ¹-Ã§a-vient-&quot;&gt;Mais dâ€™oÃ¹ Ã§a vient ?&lt;/h5&gt;

&lt;p&gt;La PWA est une suite logique de lâ€™Ã©volution du web sur mobile. Avant 2007 et lâ€™arrivÃ©e des smartphones, lâ€™accÃ¨s mobile au web se fait par le WAP (Wireless Application Protocol). Il permet le tÃ©lÃ©chargement dâ€™applications hors ligne non, dÃ©pendantes dâ€™un rÃ©seau instable et peu performant.&lt;/p&gt;

&lt;p&gt;AprÃ¨s 2007 et avec la popularisation des smartphones arrive lâ€™essor du dÃ©veloppement mobile. DÃ¨s lors des solutions WEB tournent sur des technologies dynamiques exÃ©cutÃ©es cÃ´tÃ© serveur.
Steve Jobs imagine dÃ©jÃ  des applications proches du principe de la PWA mais les principaux acteurs du marchÃ© font alors le choix de partir sur le dÃ©veloppement dâ€™applications natives permettant une meilleure UX et une meilleure intÃ©gration avec nos tÃ©lÃ©phones.&lt;/p&gt;

&lt;p&gt;Câ€™est en 2010 que lâ€™arrivÃ©e de HTML5 et CSS3 va relancer les travaux autour dâ€™applications hybrides et la mise en place de design responsive. 
On cherche alors Ã  mutualiser le dÃ©veloppement desktop et mobile.&lt;/p&gt;

&lt;p&gt;Le terme PWA arrive en 2015 grÃ¢ce Ã  Alex Russell, lâ€™un des ingÃ©nieurs ayant conceptualisÃ© la solution chez Google. PWA: â€œProgressive Web Apps: Escaping Tabs Without Losing Our Soulâ€&lt;/p&gt;

&lt;p&gt;Aujourdâ€™hui les PWA sont supportÃ©es par une majoritÃ© de grandes entreprises de la tech (Google, Microsoft, Samsung, Mozilla, etc.) et utilisÃ©es par de nombreuses marques grand public (Starbucks, Pinterest, Spotify, etc.).&lt;/p&gt;

&lt;h5 id=&quot;oui-mais-Ã§a-consiste-en-quoi-&quot;&gt;Oui mais Ã§a consiste en quoi ?&lt;/h5&gt;

&lt;p&gt;Les Progressive Web Apps sont des versions optimisÃ©es dâ€™un site web pour le mobile. Elles intÃ©grent des fonctionnalitÃ©s du tÃ©lÃ©phone, qui, jusquâ€™Ã  aujourdâ€™hui Ã©taient rÃ©servÃ©es aux applications natives : appareil photo, mode hors ligne, raccourci Ã©cran dâ€™accueil etc.
Elles sont considÃ©rÃ©es comme desÂ &lt;code class=&quot;highlighter-rouge&quot;&gt;solutions Hybrides&lt;/code&gt;. 
SupportÃ©es par le navigateur du tÃ©lÃ©phone, elles ne nÃ©cessitent pas de dÃ©veloppement spÃ©cifique Ã  lâ€™OS et permettent la mutualisation des coÃ»ts de dÃ©veloppement mobile et desktop.&lt;/p&gt;

&lt;h4 id=&quot;1--un-service-worker-au-coeur-de-lapplication&quot;&gt;1- Un service Worker au coeur de lâ€™application&lt;/h4&gt;

&lt;p&gt;Composant fondamental de la PWA, le service Worker est un script exÃ©cutÃ© en tÃ¢che de fond qui va apporter toute lâ€™intelligence Ã  la PWA. Il intercepte les requÃªtes rÃ©seaux et y applique des configurations.
Il permet :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mise en cache du contenu&lt;/li&gt;
  &lt;li&gt;Synchronisation des donnÃ©es en arriÃ¨re plan&lt;/li&gt;
  &lt;li&gt;Push de notifications&lt;/li&gt;
  &lt;li&gt;Lâ€™utilisation des fonctionnalitÃ©s de votre tÃ©lÃ©phone&lt;/li&gt;
  &lt;li&gt;Lâ€™exÃ©cution dâ€™actions hors ligne (comme pousser une banniÃ¨re lorsque le tÃ©lÃ©phone est hors ligne)&lt;/li&gt;
  &lt;li&gt;â€¦&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;2--un-manifest-pour-une-expÃ©rience-mobile&quot;&gt;2- Un Manifest pour une expÃ©rience mobile&lt;/h4&gt;

&lt;p&gt;Le manifest, en plus du service worker, va permettre de transformer un site en PWA et de simuler une expÃ©rience native.
Il sâ€™agit dâ€™un simple fichier JSON dans lequel est configurÃ© lâ€™application et qui permet de la personnaliser.
Les utilisateurs pourront Ã©galement installer directement un site web sur leur mobile ou leur desktop sans passer par les stores dâ€™applications.&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Blog Ekite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;short_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Blog Ekite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Blog Ekite.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;icons&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-48.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;48x48&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-72.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;72x72&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-96.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;96x96&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-128.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;128x128&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-192.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;192x192&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-384.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;384x384&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets/images/icons/icon-512.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sizes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;512x512&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image/png&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;start_url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/jekyll-site/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;display&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fullscreen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;theme_color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#000000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;background_color&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#000000&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Configuration du raccourci de lâ€™application mobile&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Nom&lt;/li&gt;
  &lt;li&gt;URL&lt;/li&gt;
  &lt;li&gt;Icone&lt;/li&gt;
  &lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;3--des-apis-html5-pour-les-fonctionnalitÃ©s&quot;&gt;3- Des APIs HTML5 pour les fonctionnalitÃ©s&lt;/h4&gt;

&lt;p&gt;Le dÃ©veloppement de PWA est grandement facilitÃ© par HTML5 qui propose la mise Ã  disposition de nombreuses API aux navigateurs.
Ces API permettent, entre autres choses, lâ€™utilisation de fonctionnalitÃ©s telles que la gÃ©olocalisation, le push, le statut de la batterie, le presse papier, lâ€™orientation de lâ€™Ã©cran, les vibrations du mobile etc.
La liste dÃ©taillÃ©e de ces fonctionnalitÃ©s est disponible sur ce &lt;a href=&quot;https://whatwebcando.today/&quot; target=&quot;_blank&quot;&gt;site&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/articles/front-end/pwa-innovation-or-consolation//pwa-lighthouse.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lighthouse est un plugin Chrome qui permet dâ€™auditer un site web et qui indique son niveau de compatibilitÃ© avec la PWA.
Ce plugin liste lâ€™ensemble des caractÃ©ristiques officielles qui permettent dâ€™Ã©valuer la performance des applications.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Progressive&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Les applications web progressives fonctionnent sur nâ€™importe quel pÃ©riphÃ©rique et intÃ¨grent les fonctionnalitÃ©s disponibles du navigateur et de lâ€™appareil utilisÃ©.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;SÃ©curisÃ©e&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;La mise en place dâ€™un protocole HTTPS permet aux PWA dâ€™Ãªtre fiables et sÃ»res, ce qui rÃ©pond aux problÃ©matiques de sÃ©curitÃ© des Ã©changes entre les utilisateurs et les sites&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;Engageante&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Elles proposent une expÃ©rience utilisateur immersive en plein Ã©cran et facilitent le rÃ©engagement grÃ¢ce Ã  lâ€™envoi de notifications push web.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;Installable&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Lâ€™utilisation dâ€™un fichier Manifest permet aux PWA de proposer, Ã  lâ€™instar dâ€™une application mobile native, lâ€™installation de lâ€™application sur lâ€™Ã©cran dâ€™accueil du mobile.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;RapiditÃ©&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Dâ€™aprÃ¨s Google, 53 % des internautes abandonnent un site si son chargement prend plus de trois secondes. Une fois le site chargÃ©, la navigation doit se faire de maniÃ¨re rapide et fluide.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;Optimisation pour le rÃ©fÃ©rencement&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Utilisant les technologies du web, les progressive web app peuvent Ãªtre rÃ©fÃ©rencÃ©es sur les moteurs de recherche de la mÃªme maniÃ¨re que nâ€™importe quel site web classique.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;IndÃ©pendante de la connexion&lt;/b&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;GrÃ¢ce Ã  la gestion du cache via lâ€™utilisation dâ€™un Service Worker, une fois le contenu chargÃ©, il sera possible de le consulter mÃªme dans les zones de faible connexion rÃ©seau.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sur le sujet de la mise en place et de la compatibilitÃ© avec les langages du marchÃ©, rien de particulier, la liste des frameworks est disponible ici :  &lt;a href=&quot;https://www.hnpwa.com/&quot; target=&quot;_blank&quot;&gt;HNPWA&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;donc-pas-mal-davantages-&quot;&gt;Donc pas mal dâ€™avantages !&lt;/h5&gt;

&lt;p&gt;Les solutions PWA sont assez simples Ã  mettre en place.
Elles ont une marge dâ€™Ã©volution relativement importante selon le temps et lâ€™argent qui y sont consacrÃ©s.
Dâ€™un point de vue utilisateur, lâ€™installation se fait de faÃ§on intuitive, sans mÃªme devoir passer par les stores. Lâ€™expÃ©rience utilisateur peut devenir aussi immersive que sur une application native.&lt;/p&gt;

&lt;p&gt;Les principaux avantages de la PWA sont, sans aucun doute,Â la fluiditÃ©, la fiabilitÃ© et la capacitÃ© Ã  proposer des parcours hors ligne (grÃ¢ce au chargement progressif) ainsi que lâ€™optimisation de lâ€™affichage sur mobile.
La co-construction avec le site web facilite lâ€™organisation des Ã©quipes et permet la mutualisation des coÃ»ts de dÃ©veloppement.&lt;/p&gt;

&lt;p&gt;Sur un marchÃ© qui ne pense plus seulement Ã  lâ€™expÃ©rience utilisateur mais aussi Ã  lâ€™impact environnemental, ces diffÃ©rents avantages sâ€™ancrent parfaitement dans des projets dâ€™Ã©co-conceptionÂ : moins de donnÃ©es Ã  hÃ©berger, un design optimisÃ© pour une utilisation rÃ©duite de la batterie du mobile et surtout des phases de dÃ©veloppement rÃ©duites contrairement Ã  des projets dâ€™application native.&lt;/p&gt;

&lt;h5 id=&quot;mais-aussi-des-limites&quot;&gt;Mais aussi des limites.&lt;/h5&gt;

&lt;p&gt;Vous avez peut-Ãªtre entendu quâ€™Apple et PWA ne faisaient pas bon mÃ©nage. Malheureusement comme vous pourrez le constater dans ce &lt;a href=&quot;https://www.goodbarber.com/widget/browsers/&quot; target=&quot;_blank&quot;&gt;tableau des compatibilitÃ©s&lt;/a&gt;, les fonctionnalitÃ©s disponibles sur Iphone et Safari sont, aujourdâ€™hui encore, trÃ¨s limitÃ©es.
Il sâ€™agit lÃ  du principal frein Ã  la substitution des applications natives pour les entreprises fortement implantÃ©es sur mobile.&lt;/p&gt;

&lt;p&gt;Il est Ã©galement Ã  noter que la mise en place dâ€™une PWA nÃ©cessite une sÃ©curisation de lâ€™ensemble des pages de votre site par le protocole https.&lt;/p&gt;

&lt;h5 id=&quot;qui-fait-de-la-pwa-&quot;&gt;Qui fait de la PWA ?&lt;/h5&gt;

&lt;p&gt;Voici 2 exemples de PWA rÃ©ussies:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Twitter avec twitter lite: &lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Objectifs:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;AmÃ©liorer lâ€™expÃ©rience sur les connexions limitÃ©es.&lt;/li&gt;
  &lt;li&gt;Simplifier lâ€™accÃ¨s sans tÃ©lÃ©chargement sur les stores&lt;/li&gt;
  &lt;li&gt;Optimiser par le cache et la taille des images&lt;/li&gt;
  &lt;li&gt;Charger en amont pour une navigation hors ligne&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RÃ©sultat:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;65 % dâ€™augmentation de pages vues par session&lt;/li&gt;
  &lt;li&gt;75 % dâ€™augmentation de tweets envoyÃ©s&lt;/li&gt;
  &lt;li&gt;20 % de baisse du taux de rebond (comparÃ© au site mobile avant PWA)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;b&gt;ALIBABA (2016)&lt;/b&gt;
Objectifs:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Augmenter le taux de conversion sur mobile&lt;/li&gt;
  &lt;li&gt;Personnaliser lâ€™ergonomie et le design sur la PWA&lt;/li&gt;
  &lt;li&gt;Optimiser le chargement des images (nombreuses) pour se dÃ©ployer sur les pays Ã  faibles connections&lt;/li&gt;
  &lt;li&gt;FidÃ©liser avec la proposition dâ€™ajout du site sur lâ€™Ã©cran dâ€™accueil&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RÃ©sultat:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;76% de plus sur le taux de conversions sur tous les navigateurs (30% sur Android)&lt;/li&gt;
  &lt;li&gt;14% dâ€™utilisateurs actifs mensuels en plus sur iOS&lt;/li&gt;
  &lt;li&gt;4X plus dâ€™ajout Ã  lâ€™Ã©cran dâ€™accueil&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;en-conclusion&quot;&gt;En conclusion&lt;/h5&gt;

&lt;p&gt;La PWA nâ€™est ni une Ã©volution des solutions mobiles natives ni une solution de consolation.&lt;br /&gt;
Il sâ€™agit dâ€™une vraie rÃ©ponse Ã  des problÃ©matiques de dÃ©ploiement sur mobile.&lt;br /&gt;
Elle offre une expÃ©rience immersive et intuitive pour lâ€™utilisateur.
Sa mise en place est accessible Ã  nâ€™importe quelle taille de projet web.&lt;/p&gt;

&lt;p&gt;Elle permet de rapidement mutualiser les coÃ»ts grÃ¢ce Ã  sa facilitÃ© de transformation.
Malheureusement son utilisation pour le dÃ©veloppement de parcours innovants reste restreinte Ã  cause de sa non-compatibilitÃ© avec les fonctionnalitÃ©s natives des appareils IOS.&lt;/p&gt;

&lt;p&gt;Aujourdâ€™hui, la montÃ©e en puissance de cette technologie semble Ãªtre conditionnÃ©e par Apple et leur volontÃ© ou non dâ€™amÃ©liorer la prise en charge des PWA. AprÃ¨s 5 ans dâ€™existence, cette technologie nâ€™a toujours pas rÃ©ussi Ã  percer.&lt;/p&gt;

&lt;p&gt;Article de Laurent, Romain, Yohann, Septembre 2021&lt;/p&gt;

&lt;p&gt;Glossaire:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;WAP:&lt;/b&gt;Câ€™est le premier protocole de communication qui a permis de relier le rÃ©seau mobile Ã  internet&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Application Hybride:&lt;/b&gt; contrairement aux applications natives qui utilisent directement les composants du device (mobile/tablette..), les applications hybrides utilisent le navigateur WEB embarquÃ© dans le device et les technologies quâ€™on y retrouve pour le dÃ©veloppement web, HTML, CSS, JavaScript&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Responsive:&lt;/b&gt; le Responsive Web Design (RWD) est une technique qui consiste Ã  ajuster automatiquement lâ€™affichage dâ€™une page web Ã  la taille de lâ€™Ã©cran du terminal utilisÃ©&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Script:&lt;/b&gt; suite de commandes qui permettent dâ€™automatiser une tÃ¢che&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Stores dâ€™application:&lt;/b&gt; bibliothÃ¨que telle que lâ€™Apple store ou le Play store qui permettent de trouver et dâ€™installer des applications sur un tÃ©lÃ©phone&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Framework:&lt;/b&gt; le regroupement dâ€™outils qui facilitent le dÃ©veloppement de logiciels et la crÃ©ation de systÃ¨mes (aussi appelÃ© environnement de dÃ©veloppement)&lt;/p&gt;

&lt;p&gt;Sources:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://blog.octo.com/cest-quoi-une-progressive-web-app-pwa/&lt;/li&gt;
  &lt;li&gt;https://fr.wikipedia.org/wiki/Progressive_web_app&lt;/li&gt;
  &lt;li&gt;https://developer.mozilla.org/fr/docs/Web/Progressive_web_apps&lt;/li&gt;
  &lt;li&gt;https://www.novaway.fr/blog/tech/3-exemples-pwa&lt;/li&gt;
  &lt;li&gt;https://www.goodbarber.com/blog/progressive-web-apps-browser-support-compatibility-a883/&lt;/li&gt;
  &lt;li&gt;https://developers.google.com/web/showcase/2017/twitter&lt;/li&gt;
  &lt;li&gt;https://developers.google.com/web/showcase/2016/flipkart&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;romain_vermeeren&quot;, &quot;yohann_gueguin&quot;, &quot;laurent_duchaussoy&quot;]</name></author><category term="Front-End" /><summary type="html">Le terme PWA est entrÃ© depuis quelques annÃ©es dans le long rÃ©pertoire des acronymes liÃ©s au numÃ©rique. Mais quâ€™est ce quâ€™une Progressive Web App ? Pour certains câ€™est la promesse dâ€™une expÃ©rience mobile responsive boostÃ©e par les fonctionnalitÃ©s de votre tÃ©lÃ©phone. Elle serait facile Ã  mettre en place, de faible coÃ»t et elle nâ€™aurait plus rien Ã  envier aux applications natives. Afin de vous Ã©clairer sur le sujet et de vous permettre de vous faire votre propre avis, vous trouverez ici les informations qui nous paraissent pertinentes pour une premiÃ¨re approche fonctionnelle du sujet.</summary></entry></feed>